**A.3 常用开发工具命令行参考**

A.3.1 gcc，GCC编译器

-E：只进行预处理并把预处理结果输出。

-c：只编译不链接。

-o <filename>：指定输出文件名。

-S：输出编译后的汇编代码文件。

-I：指定头文件路径。

-e name：指定name为程序入口地址。

-ffreestanding：编译独立的程序，不会自动链接C运行库、启动文件等。

-finline-functions,-fno-inline-functions：启用/关闭内联函数。

-g：在编译结果中加入调试信息，-ggdb就是加入GDB调试器能够识别的格式。

-L <directory>：指定链接时查找路径，多个路径之间用冒号隔开。

-nostartfiles：不要链接启动文件，比如crtbegin.o、crtend.o。

-nostdlib：不要链接标准库文件，主要是C运行库。

-O0：关闭所有优化选项。

-shared：产生共享对象文件。

-static：使用静态链接。

-Wall：对源代码中的多数编译警告进行启用。

-fPIC：使用地址无关代码模式进行编译。

-fPIE：使用地址无关代码模式编译可执行文件。

-XLinker <option>：把option传递给链接器。

-Wl <option>：把option传递给链接器，与上面的选项类似。

-fomit-frame-pointer：禁止使用EBP作为函数帧指针。

-fno-builtin：禁止GCC编译器内置函数。

-fno-stack-protector：是指关闭堆栈保护功能。

-ffunction-sections：将每个函数编译到独立的代码段。

-fdata-sections：将全局/静态变量编译到独立的数据段。

A.3.2 ld，GNU链接器

-static：静态链接。

-l<libname>：指定链接某个库。

-e name：指定name为程序入口。

-r：合并目标文件，不进行最终链接。

-L <directory>：指定链接时查找路径，多个路径之间用冒号隔开。

-M：将链接时的符号和地址输出成一个映射文件。

-o：指定输出文件名。

-s：清除输出文件中的符号信息。

-S：清除输出文件中的调试信息。

-T <scriptfile>：指定链接脚本文件。

-version-script <file>：指定符号版本脚本文件。

-soname <name>：指定输出共享库的SONAME。

-export-dynamic：将全局符号全部导出。

-verbose：链接时输出详细信息。

–rpath <path>：指定链接时库查找路径。

A.3.3 objdump，GNU目标文件可执行文件查看器

-a：列举.a文件中所有的目标文件。

-b bfdname：指定BFD名。

-C：对于C++符号名进行反修饰（Demangle）。

-g：显示调试信息。

-d：对包含机器指令的段进行反汇编。

-D：对所有的段进行反汇编。

-f：显示目标文件文件头。

-h：显示段表。

-l：显示行号信息。

-p：显示专有头部信息，具体内容取决于文件格式。

-r：显示重定位信息。

-R：显示动态链接重定位信息。

-s：显示文件所有内容。

-S：显示源代码和反汇编代码（包含-d参数）。

-W：显示文件中包含有DWARF调试信息格式的段。

-t：显示文件中的符号表。

-T：显示动态链接符号表。

-x：显示文件的所有文件头。

A.3.4 cl，MSVC编译器

/c：只编译不链接。

/Za：禁止语言扩展。

/link：链接指定的模块或给链接器传递参数。

/Od：禁止优化。

/O2：以运行速度最快为目标优化。

/O1：以最节省空间为目标优化。

/GR或/GR-：开启或关闭RTTI。

/Gy：开启函数级别链接。

/GS或/GS-：开启或关闭。

/Fa[file]：输出汇编文件。

/E：只进行预处理并且把结果输出。

/I：指定头文件包含目录。

/Zi：启用调试信息。

/LD：编译产生DLL文件。

/LDd：编译产生DLL文件（调试版）。

/MD：与动态多线程版本运行库MSVCRT.LIB链接。

/MDd：与调试版动态多线程版本运行库MSVCRTD.LIB链接。

/MT：与静态多线程版本运行库LIBCMT.LIB链接。

/MTd：与调试版静态多线程版本运行库LIBCMTD.LIB链接。

A.3.5 link，MSVC链接器

/BASE:address：指定输出文件的基地址。

/DEBUG：输出调试模式版本。

/DEF:filename：指定模块定义文件.DEF。

/DEFAULTLIB:library：指定默认运行库。

/DLL：产生DLL。

/ENTRY:symbol：指定程序入口。

/EXPORT:symbol：指定某个符号为导出符号。

/HEAP：指定默认堆大小。

/LIBPATH:dir：指定链接时库搜索路径。

/MAP[:filename]：产生链接MAP文件。

/NODEFAULTLIB[:library]：禁止默认运行库。

/OUT:filename：指定输出文件名。

/RELEASE：以发布版本产生输出文件。

/STACK：指定默认栈大小。

/SUBSYSTEM：指定子系统。

A.3.6 dumpbin，MSVC的COFF/PE文件查看器

/ALL：显示所有信息。

/ARCHIVEMEMBERS：显示.LIB文件中所有目标文件列表。

/DEPENDENTS：显示文件的动态链接依赖关系。

/DIRECTIVES：显示链接器指示。

/DISASM：显示反汇编。

/EXPORTS：显示导出函数表。

/HEADERS：显示文件头。

/IMPORTS：显示导入函数表。

/LINENUMBERS：显示行号信息。

/RELOCATIONS：显示重定位信息。

/SECTION:name ：显示某个段。

/SECTION：显示文件概要信息。

/SYMBOLS：显示文件符号表。

/TLS：显示线程局部存储TLS信息。  
  
**如果你不知道读什么书？**  
  
**关注公众号**：【**奥丁读书小站**】  
  
**【奥丁读书小站】**一个专业推荐各种书籍的公众号，推荐的这些书都绝对当得起你书架上的一席之地!总有些书是你一生中不想错过的！

**Table of Contents**

[作者访谈录](text00000.html#filepos0000003416)

[序言一](text00000.html#filepos0000012562)

[序言二](text00000.html#filepos0000017612)

[序言三](text00000.html#filepos0000021165)

[导读](text00000.html#filepos0000029830)

[第1章 温故而知新](text00000.html#filepos0000037925)

> [1.1 从Hello World说起](text00000.html#filepos0000038786)

> [1.2 万变不离其宗](text00000.html#filepos0000044042)

> [1.3 站得高，望得远](text00000.html#filepos0000053103)

> [1.4 操作系统做什么](text00000.html#filepos0000058537)

> [1.5 内存不够怎么办](text00000.html#filepos0000074066)

> [1.6 众人拾柴火焰高](text00000.html#filepos0000087959)

> [1.7 本章小结](text00000.html#filepos0000132044)

[第2章 编译和链接](text00000.html#filepos0000132928)

> [2.1 被隐藏了的过程](text00000.html#filepos0000134927)

> [2.2 编译器做了什么](text00000.html#filepos0000146325)

> [2.3 链接器年龄比编译器长](text00000.html#filepos0000164179)

> [2.4 模块拼装——静态链接](text00000.html#filepos0000172525)

> [2.5 本章小结](text00000.html#filepos0000178794)

[第3章 目标文件里有什么](text00000.html#filepos0000179833)

> [3.1 目标文件的格式](text00000.html#filepos0000181694)

> [3.2 目标文件是什么样的](text00000.html#filepos0000186712)

> [3.3 挖掘SimpleSection.o](text00000.html#filepos0000193688)

> [3.4 ELF文件结构描述](text00001.html#filepos0000226675)

> [3.5 链接的接口——符号](text00001.html#filepos0000259013)

> [3.6 调试信息](text00001.html#filepos0000315640)

> [3.7 本章小结](text00001.html#filepos0000320097)

[第4章 静态链接](text00001.html#filepos0000321983)

> [4.1 空间与地址分配](text00001.html#filepos0000324366)

> [4.2 符号解析与重定位](text00001.html#filepos0000339815)

> [4.3 COMMON块](text00001.html#filepos0000367890)

> [4.4 C++相关问题](text00001.html#filepos0000376417)

> [4.5 静态库链接](text00001.html#filepos0000395178)

> [4.7 BFD库](text00001.html#filepos0000446527)

> [4.8 本章小结](text00001.html#filepos0000452072)

[第5章 Windows PE/COFF](text00001.html#filepos0000453888)

> [5.1 Windows的二进制文件格式PE/COFF](text00001.html#filepos0000454761)

> [5.2 PE的前身——COFF](text00002.html#filepos0000459315)

> [5.3 链接指示信息](text00002.html#filepos0000473394)

> [5.4 调试信息](text00002.html#filepos0000478193)

> [5.5 大家都有符号表](text00002.html#filepos0000482146)

> [5.6 Windows下的ELF——PE](text00002.html#filepos0000488115)

> [5.7 本章小结](text00002.html#filepos0000503047)

[第6章 可执行文件的装载与进程](text00002.html#filepos0000504216)

> [6.1 进程虚拟地址空间](text00002.html#filepos0000506185)

> [6.2 装载的方式](text00002.html#filepos0000516196)

> [6.3 从操作系统角度看可执行文件的装载](text00002.html#filepos0000526515)

> [6.4 进程虚存空间分布](text00002.html#filepos0000535396)

> [6.5 Linux内核装载ELF过程简介](text00002.html#filepos0000575310)

> [6.6 Windows PE的装载](text00002.html#filepos0000585645)

> [6.7 本章小结](text00002.html#filepos0000591148)

[第7章 动态链接](text00002.html#filepos0000592519)

> [7.1 为什么要动态链接](text00002.html#filepos0000593501)

> [7.2 简单的动态链接例子](text00002.html#filepos0000607556)

> [7.3 地址无关代码](text00002.html#filepos0000624352)

> [7.4 延迟绑定（PLT）](text00002.html#filepos0000662066)

> [7.5 动态链接相关结构](text00003.html#filepos0000674751)

> [7.6 动态链接的步骤和实现](text00003.html#filepos0000715074)

> [7.7 显式运行时链接](text00003.html#filepos0000752405)

> [7.8 本章小结](text00003.html#filepos0000784949)

[第8章 Linux共享库的组织](text00003.html#filepos0000787021)

> [8.1 共享库版本](text00003.html#filepos0000789032)

> [8.2 符号版本](text00003.html#filepos0000807398)

> [8.3 共享库系统路径](text00003.html#filepos0000829045)

> [8.4 共享库查找过程](text00003.html#filepos0000831715)

> [8.5 环境变量](text00003.html#filepos0000835155)

> [8.6 共享库的创建和安装](text00003.html#filepos0000844145)

> [8.7 本章小结](text00003.html#filepos0000859272)

[第9章 Windows下的动态链接](text00003.html#filepos0000859991)

> [9.1 DLL 简介](text00003.html#filepos0000861159)

> [9.2 符号导出导入表](text00004.html#filepos0000887633)

> [9.3 DLL优化](text00004.html#filepos0000921524)

> [9.4 C++与动态链接](text00004.html#filepos0000944173)

> [9.5 DLL HELL](text00004.html#filepos0000956414)

> [9.6 本章小结](text00004.html#filepos0000970256)

[第10章 内存](text00004.html#filepos0000972999)

> [10.1 程序的内存布局](text00004.html#filepos0000973958)

> [10.2 栈与调用惯例](text00004.html#filepos0000981537)

> [10.3 堆与内存管理](text00004.html#filepos0001044394)

> [10.4 本章小结](text00004.html#filepos0001075298)

[第11章 运行库](text00004.html#filepos0001076233)

> [11.1 入口函数和程序初始化](text00005.html#filepos0001077402)

> [11.2 C/C++运行库](text00005.html#filepos0001150290)

> [11.3 运行库与多线程](text00005.html#filepos0001208430)

> [11.4 C++全局构造与析构](text00005.html#filepos0001241442)

> [11.5 fread实现](text00006.html#filepos0001289194)

> [11.6 本章小结](text00006.html#filepos0001345798)

[第12章 系统调用与API](text00006.html#filepos0001346873)

> [12.1 系统调用介绍](text00006.html#filepos0001348629)

> [12.2 系统调用原理](text00006.html#filepos0001361628)

> [12.3 Windows API](text00006.html#filepos0001413998)

> [12.4 本章小结](text00006.html#filepos0001439592)

[第13章 运行库实现](text00006.html#filepos0001440376)

> [13.1 C语言运行库](text00006.html#filepos0001442451)

> [13.2 如何使用Mini CRT](text00007.html#filepos0001519088)

> [13.3 C++运行库实现](text00007.html#filepos0001539371)

> [13.4 如何使用Mini CRT++](text00007.html#filepos0001597989)

> [13.5 本章小结](text00007.html#filepos0001601861)

[附录A](text00007.html#filepos0001603163)

> [A.1 字节序（Byte Order）](text00007.html#filepos0001603620)

> [A.2 ELF常见段](text00007.html#filepos0001607984)

> [A.3 常用开发工具命令行参考](text00007.html#filepos0001608638)

**Table of Contents**

[作者访谈录](text00000.html#filepos0000003416)

[序言一](text00000.html#filepos0000012562)

[序言二](text00000.html#filepos0000017612)

[序言三](text00000.html#filepos0000021165)

[导读](text00000.html#filepos0000029830)

[第1章 温故而知新](text00000.html#filepos0000037925)

> [1.1 从Hello World说起](text00000.html#filepos0000038786)

> [1.2 万变不离其宗](text00000.html#filepos0000044042)

> [1.3 站得高，望得远](text00000.html#filepos0000053103)

> [1.4 操作系统做什么](text00000.html#filepos0000058537)

> [1.5 内存不够怎么办](text00000.html#filepos0000074066)

> [1.6 众人拾柴火焰高](text00000.html#filepos0000087959)

> [1.7 本章小结](text00000.html#filepos0000132044)

[第2章 编译和链接](text00000.html#filepos0000132928)

> [2.1 被隐藏了的过程](text00000.html#filepos0000134927)

> [2.2 编译器做了什么](text00000.html#filepos0000146325)

> [2.3 链接器年龄比编译器长](text00000.html#filepos0000164179)

> [2.4 模块拼装——静态链接](text00000.html#filepos0000172525)

> [2.5 本章小结](text00000.html#filepos0000178794)

[第3章 目标文件里有什么](text00000.html#filepos0000179833)

> [3.1 目标文件的格式](text00000.html#filepos0000181694)

> [3.2 目标文件是什么样的](text00000.html#filepos0000186712)

> [3.3 挖掘SimpleSection.o](text00000.html#filepos0000193688)

> [3.4 ELF文件结构描述](text00001.html#filepos0000226675)

> [3.5 链接的接口——符号](text00001.html#filepos0000259013)

> [3.6 调试信息](text00001.html#filepos0000315640)

> [3.7 本章小结](text00001.html#filepos0000320097)

[第4章 静态链接](text00001.html#filepos0000321983)

> [4.1 空间与地址分配](text00001.html#filepos0000324366)

> [4.2 符号解析与重定位](text00001.html#filepos0000339815)

> [4.3 COMMON块](text00001.html#filepos0000367890)

> [4.4 C++相关问题](text00001.html#filepos0000376417)

> [4.5 静态库链接](text00001.html#filepos0000395178)

> [4.7 BFD库](text00001.html#filepos0000446527)

> [4.8 本章小结](text00001.html#filepos0000452072)

[第5章 Windows PE/COFF](text00001.html#filepos0000453888)

> [5.1 Windows的二进制文件格式PE/COFF](text00001.html#filepos0000454761)

> [5.2 PE的前身——COFF](text00002.html#filepos0000459315)

> [5.3 链接指示信息](text00002.html#filepos0000473394)

> [5.4 调试信息](text00002.html#filepos0000478193)

> [5.5 大家都有符号表](text00002.html#filepos0000482146)

> [5.6 Windows下的ELF——PE](text00002.html#filepos0000488115)

> [5.7 本章小结](text00002.html#filepos0000503047)

[第6章 可执行文件的装载与进程](text00002.html#filepos0000504216)

> [6.1 进程虚拟地址空间](text00002.html#filepos0000506185)

> [6.2 装载的方式](text00002.html#filepos0000516196)

> [6.3 从操作系统角度看可执行文件的装载](text00002.html#filepos0000526515)

> [6.4 进程虚存空间分布](text00002.html#filepos0000535396)

> [6.5 Linux内核装载ELF过程简介](text00002.html#filepos0000575310)

> [6.6 Windows PE的装载](text00002.html#filepos0000585645)

> [6.7 本章小结](text00002.html#filepos0000591148)

[第7章 动态链接](text00002.html#filepos0000592519)

> [7.1 为什么要动态链接](text00002.html#filepos0000593501)

> [7.2 简单的动态链接例子](text00002.html#filepos0000607556)

> [7.3 地址无关代码](text00002.html#filepos0000624352)

> [7.4 延迟绑定（PLT）](text00002.html#filepos0000662066)

> [7.5 动态链接相关结构](text00003.html#filepos0000674751)

> [7.6 动态链接的步骤和实现](text00003.html#filepos0000715074)

> [7.7 显式运行时链接](text00003.html#filepos0000752405)

> [7.8 本章小结](text00003.html#filepos0000784949)

[第8章 Linux共享库的组织](text00003.html#filepos0000787021)

> [8.1 共享库版本](text00003.html#filepos0000789032)

> [8.2 符号版本](text00003.html#filepos0000807398)

> [8.3 共享库系统路径](text00003.html#filepos0000829045)

> [8.4 共享库查找过程](text00003.html#filepos0000831715)

> [8.5 环境变量](text00003.html#filepos0000835155)

> [8.6 共享库的创建和安装](text00003.html#filepos0000844145)

> [8.7 本章小结](text00003.html#filepos0000859272)

[第9章 Windows下的动态链接](text00003.html#filepos0000859991)

> [9.1 DLL 简介](text00003.html#filepos0000861159)

> [9.2 符号导出导入表](text00004.html#filepos0000887633)

> [9.3 DLL优化](text00004.html#filepos0000921524)

> [9.4 C++与动态链接](text00004.html#filepos0000944173)

> [9.5 DLL HELL](text00004.html#filepos0000956414)

> [9.6 本章小结](text00004.html#filepos0000970256)

[第10章 内存](text00004.html#filepos0000972999)

> [10.1 程序的内存布局](text00004.html#filepos0000973958)

> [10.2 栈与调用惯例](text00004.html#filepos0000981537)

> [10.3 堆与内存管理](text00004.html#filepos0001044394)

> [10.4 本章小结](text00004.html#filepos0001075298)

[第11章 运行库](text00004.html#filepos0001076233)

> [11.1 入口函数和程序初始化](text00005.html#filepos0001077402)

> [11.2 C/C++运行库](text00005.html#filepos0001150290)

> [11.3 运行库与多线程](text00005.html#filepos0001208430)

> [11.4 C++全局构造与析构](text00005.html#filepos0001241442)

> [11.5 fread实现](text00006.html#filepos0001289194)

> [11.6 本章小结](text00006.html#filepos0001345798)

[第12章 系统调用与API](text00006.html#filepos0001346873)

> [12.1 系统调用介绍](text00006.html#filepos0001348629)

> [12.2 系统调用原理](text00006.html#filepos0001361628)

> [12.3 Windows API](text00006.html#filepos0001413998)

> [12.4 本章小结](text00006.html#filepos0001439592)

[第13章 运行库实现](text00006.html#filepos0001440376)

> [13.1 C语言运行库](text00006.html#filepos0001442451)

> [13.2 如何使用Mini CRT](text00007.html#filepos0001519088)

> [13.3 C++运行库实现](text00007.html#filepos0001539371)

> [13.4 如何使用Mini CRT++](text00007.html#filepos0001597989)

> [13.5 本章小结](text00007.html#filepos0001601861)

[附录A](text00007.html#filepos0001603163)

> [A.1 字节序（Byte Order）](text00007.html#filepos0001603620)

> [A.2 ELF常见段](text00007.html#filepos0001607984)

> [A.3 常用开发工具命令行参考](text00007.html#filepos0001608638)

  
  
**如果你不知道读什么书？**  
  
**关注公众号**：【**奥丁读书小站**】  
  
**【奥丁读书小站】**一个专业推荐各种书籍的公众号，推荐的这些书都绝对当得起你书架上的一席之地!总有些书是你一生中不想错过的！