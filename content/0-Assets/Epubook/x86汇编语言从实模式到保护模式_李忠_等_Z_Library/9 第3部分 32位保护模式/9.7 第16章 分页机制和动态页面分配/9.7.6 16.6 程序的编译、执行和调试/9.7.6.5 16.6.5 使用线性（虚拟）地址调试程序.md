### 16.6.5　使用线性（虚拟）地址调试程序

开启了分页模式之后，程序开始使用线性地址工作。相应地，在调试程序时，有时候只能知道线性地址，而不知道物理地址。在这种情况下，Bochs 允许你使用线性地址工作。

举个例子，我们以前一直用“xp”命令来显示内存单元的内容。相应地，“x”命令则显示一个线性地址单元里的内容。如图16-33 所示，当本章的用户任务开始执行后，它拥有独立的4GB虚拟地址空间。因此，我们可以用“x 0x0”命令显示当前任务4GB 虚拟空间内的头一个双字。

![img](../0-Assets/Epubook/x86汇编语言从实模式到保护模式_李忠_等_Z_Library/images/00720.jpeg)

图16-33　使用线性地址显示内存数据

对照本章代码16-2，线性地址为0 的地方，是程序的总大小，在这里是0x0001f88e。即，本章用户程序的大小是129166 字节。

除了在显示内存数据的时候使用线性地址，也可以在知道指令线性地址的时候，用线性地址设置断点，其命令是“lb”或者“vb”。具体使用方法，请使用Bochs 的帮助命令“help”（help lb、help vb）。