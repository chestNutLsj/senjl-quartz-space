### 5.8.1　把编译后的指令写入主引导扇区

在第4 章，我们已经安装了VirtualBox 虚拟机软件，并在它里面创建了一台名为LEARNASM 的虚拟计算机。除此之外，还为它创建了一块虚拟硬盘。

虚拟硬盘其实是一个扩展名为“.vhd”的Windows 文件，具体的文件名和创建位置只有你自己知道。但是，无论如何，你现在都可以将我们刚刚编译好的代码写入这个虚拟硬盘的主引导扇区里。

首先启动配书工具FixVhdWr，在第一个界面内选择虚拟硬盘文件。注意，要写入的那个虚拟硬盘，必须是VirtualBox 虚拟机使用的硬盘。否则的话，虚拟机怎么可能执行到你写入的程序呢！

接着，在第二个界面内，要选择刚才编译好的二进制文件c05_mbr.bin，然后再进入下一个界面。第三个界面开始将指定的文件写入虚拟硬盘。注意保持默认的写入方式（即“LBA 连续直写模式”），当出现红色字体的“数据写入完成，本次共操作了1 个扇区”时，说明数据的写入已经完成。最后要交待一句，千万不要在虚拟计算机LEARN-ASM 运行的时候进行数据写入操作，因为虚拟硬盘文件正被VirtualBox 以独占的方式使用。否则的话，会导致数据写入失败。