   

# 前　言

尽管汇编语言也是一种计算机语言，但却是与众不同的，与它的同类们格格不入。处理器的工作是执行指令并获得结果，而为了驾驭处理器，汇编语言为每一种指令提供了简单好记、易于书写的符号化表示形式。

一直以来，人们对于汇编语言的认识和评价可以分为两种，一种是觉得它非常简单，另一种是觉得它学习起来非常困难。

你认为我会赞同哪一种？说汇编语言难学，这没有道理。学习任何一门计算机语言，都需要一些数制和数制转换的知识，也需要大体上懂得计算机是怎么运作的。在这个前提下，汇编语言是最贴近硬件实体的，也是最自然和最朴素的。最朴素的东西反而最难掌握，这实在说不过去。因此，原因很可能出在我们的教科书上，那些一上来就搞一大堆寻址方式的书，往往以最快的速度打败了本来激情高昂的初学者。

但是，说汇编语言好学，也同样有些荒谬。据我的观察，很多人掌握了若干计算机指令，会编写一个从键盘输入数据，然后进行加减乘除或者归类排序的程序后，就认为自己掌握了汇编语言。还有，直到现在，我还经常在网上看到学生们使用DOS 中断编写程序，他们讨论的也大多是实模式，而非32 位或者64 位保护模式。他们知道如何编译源程序，也知道在命令行输入文件名，程序就能运行了；又或者使用一个中断，就能显示字符。至于这期间发生了什么，程序是如何加载到内存中的，又是怎么重定位的，似乎从来不关汇编语言的事。这样做的结果，就是让人以为汇编语言不过如此，而且非常枯燥。

很难说我已经掌握了汇编语言的要义。但至少我知道，尽管汇编语言不适合用来编写大型程序，但它对于理解计算机原理很有帮助，特别是处理器的工作原理和运行机制。就算是为了这个目的，也应该让汇编语言回归它的本位，那就是访问和控制硬件（包括处理器），而不仅仅是编写程序，输入几个数字，找出正数有几个、负数有几个，大于30 的有几个。

事实上，汇编语言对学习和理解高级语言，比如C 语言，也有极大的帮助。老教授琢磨了好几天，终于想到一个好的比喻来帮助学生理解什么是指针，实际上，这对于懂得汇编语言的学生来说，根本就不算个事儿，并因此能够使老教授省下时间来喝茶。

在这本书之前，我也写过《穿越计算机的迷雾》一书。它们是一个系列，没有基础的读者可以先看那本书，打一点计算机原理的基础再来学习汇编语言。

在计划写这本书的时候，我就给自己画了几条线。首先不能走老路，一上来就讲指令、寻址方式，而是采用任务驱动的方式来写，每一章都要做点事情，最好是比较有趣，有吸引力。在解决问题的过程中，不断地引入新指令，并进行讲解。一句话，我希望是润物细无声式的；其次，汇编语言和硬件并举，完全抛弃BIOS 中断和DOS 中断，直接访问硬件，发挥汇编语言的长处，因为这才是我们学习汇编语言的目的。也只有这样，读者才能深刻体会到汇编语言的妙处。

王晓波和湖北经济学院的余洁共同参与了本书的创作。

本书主要讲述INTEL x86 处理器的16 位实模式、32 位保护模式，至于虚拟8086 模式，则是为了兼容传统的8086 程序，现在看来已经完全过时，不再进行讲述。本书的特色之一是提供了大量典型的源代码，这些代码以及相配套的工具程序可以到书中指定的网站，或者电子工业出版社华信教育资源网搜索下载。

很多读者在读书的时候会遇到这种情况：一开始读得很快，一口气读了好几章。随着内容的深入，学习越来越吃力，不得不频繁回到前面重新学习已经讲过的内容，这就是因为前面的知识没有完全掌握。为此，本书每一章都设有检测点，读者应当在通过检测点之后再继续往后阅读。

本书原来有18 章，后来考虑到实模式的内容过多，而去掉了一章。这一章的标题是《聆听数字的声音》，讲述如何通过直接访问和控制Sound Blaster 16 声卡来播放声音，感兴趣的朋友可以从下载的配书文件包中找到这部分内容。

在本书的写作和出版过程中，长春电视台台长王志强，副台长周武军和技术部主任刘贵先后对本书给予了关心和支持，在此表示衷心的感谢。

好友王南洋、桑国伟、刘维钊、蒋胜友、邱海龙、万利、李文心等负责了本书的一部分校对工作；好友周卫平帮我验证配书代码是否能在他的机器上正常工作，在这里向他们表示感谢，同时也谢谢所有关心和支持本书的朋友们。

感谢我的母亲、我的妻子和我的女儿，她们是我的精神支柱，是我努力创作这本书的动力来源。

在阅读本书的过程中，如果有任何问题，可以往电子邮件地址leechung@126.com 给我写信；要了解其他更多的情况，请访问我的博客：http://blog.163.com/leechung@126。

![img](../0-Assets/Epubook/x86汇编语言从实模式到保护模式_李忠_等_Z_Library/images/00003.jpeg)

二〇一二年十一月