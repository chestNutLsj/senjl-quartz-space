## 模拟传输

### 数字到模拟的转换

digital-to-analog conversion：指根据数字数据中的信息而改变模拟信号的某种特性的过程

- 过程：发送方将数字数据通过调制器转换成模拟信号在链路中传输，模拟信号到达接收方，通过解调器转换成数字数据被接收
	
- 正弦波由振幅、频率和相位三个特性唯一定义。通过改变正弦波的某一特性，就可以用来表示数字数据

#### 数模转换问题

- 数据元素和信号元素：数据元素是一块信息的最小实体，即位；信号元素是信号的最小单元
	
- 比特率和波特率：比特率是每秒发送的位数，波特率是每秒发送的信号元素数。在数字数据模拟传输中，波特率小于等于比特率
	
	- $S=N× \frac{1}{r}$ baud，此中 N 是数据速率 bps，r 是一个信号元素携带的数据元素个数。模拟传输中 $r=\log_{2}L$，此处 L 是信号元素类型而不是电平数
		
	
- 带宽：除FSK外，**数字数据的模拟传输所需的带宽与其信号速率成正比**；而在FSK中，还要加上载波信号频率间的差值
	
- 载波信号carrier signal：模拟传输中，发送设备产生的一个来承载信息信号的高频率信号作为基波，此即载波信号（或载波频率）
	
	- 接收设备要将自己的收听频率调整到与所期望的发送设备的载波信号的频率一致
		
	- 数字信息通过改变载波信号的一个或多个特性（振幅、频率或相位）来调制载波信号（形式的改变称为调制或移动键控）

#### 调制数字数据到模拟信号

- 幅移键控ASK（amplitude shift keying）：通过改变载波信号的振幅来生成信号元素，只有振幅变化而频率和相位保持不变
	
	- 二进制 ASK（BASK）：二进制幅移键控或开关键控 OOK，只使用两个电平，一个信号电平的振幅峰值为 0，另一个和载波频率振幅一样
	- ![[50-模拟传输-BASK.png]]
		
	- ASK带宽：承载信号在调制处理后产生一个非周期性复合信号，这个信号有一个连续频谱。
		
		- 带宽与信号速率（波特率）成正比：$B=(1+d)×S$，S是信号速率，B是带宽，d是个相干因子取值在0~1之间
			
		- 由上公式知所需带宽最小为S，最大为2S
			
		- 带宽的位置：载波频率 $f_{c}$ 位于带宽中间。这意味着如果有可用的带通通道，就可以选择 $f_{c}$ 使得调制后的信号能占用该带宽。这就是数模转换最重要的优点，可以把发生的带宽平移到可用带宽
			
		
	- 实现：如果数字数据表示为一个单极 NRZ，具有 1V 高电平和 0V 低电平，那么可以将数字信号乘来自振荡器的载波信号即可
	- ![[50-模拟传输-impl-BASK.png]]
		
	- 全双工链路实例：在数据通信中，若使用全双工链路，需要把带宽分成两部分，每部分各有一个载波频率。即总的带宽分成两个部分，每个方向占用一部分，可用带宽为总带宽的一半
		
	- 多电平 ASK：信号使用4、8、16或更多的振幅，对应使用2、3、4或更多位来调制数据，对应 r=2、3、4。需要结合 QAM 实现
		


- 频移键控FSK（frequency shift keying）：通过改变载波信号的频率来表示数据，而所有的信号元素振幅峰值和相位保持不变
	
	- 二进制FSK（BFSK）：选择两个载波频率f1和f2，分别对应数据元素0和1.通常这两个载波频率很高，差很小
		
		- ![[50-模拟传输-BFSK.png]]
		- 一个带宽中点的频率是f1，另一个带宽中点的频率是f2。f1和f2离这两个带的中点的距离都是Δf，则两个频率之差为2Δf
			
		
	- BFSK的带宽：两个简单正弦波的载波信号调制产生一个具有连续频谱的非周期复合信号
		
		- 可以将 FSK 看作两个 ASK 信号，每一个有自己的频率，若两频率的差为 $2Δ_{f}$，则 BFSK 的带宽为：$B=(1+d)×S+2Δ_{f}$
			
		- 2Δf 的最小值至少应该是 S 
			
		
	- 实现：两种实现方法：非相干和相干
		
		- 非相干
			
			- 非相干BFSK中 ，当一个信号元素结束下一个信号元素开始时相位是不连续
				
			- 非相干BFSK可以通过把BFSK看作两个ASK调制并使用两个载波频率实现
				
			
		- 相干
			
			- 相干BFSK中，两个信号元素的边界处的相位是连续的
				
			- 相干 BFSK 可以通过使用一个压控振荡器 VCO（voltage-controlled oscillator）实现，压控振荡器是根据输入电平改变频率。例如：图 5.7 中，振荡器的输入是单极 NRZ 信号，当 NRZ 振幅为 0 时，振荡器保持它的正常频率；NRZ 振幅为正时，增加频率
			- ![[50-模拟传输-impl-BFSK.png]]
				
			
		
	- 多电平 FSK：使用多个频率发送位。但是，相邻频率需要相隔2Δf，为了调制解调器正常工作需要 $2Δ_f$ 最小值为 S，所以当 d=0 时 $B=(1+d)×S+(L-1)2Δ_f⇨B=L×S$


- 相移键控PSK（phase shift keying）：通过改变载波的相位来表示两个或多个不同的信号元素，峰值振幅和频率保持不变
	
	- 二进制 PSK（BPSK）：一个相位是 0°，另一个相位是 180°
	- ![[50-模拟传输-BPSK.png]]
		
	- **PSK 抗噪声能力优于 ASK**，并且不需要两个载波信号
		
	- 带宽：与二进制ASK相同$B=(1+d)S$，少于BFSK（没有浪费带宽来分离成两个载波信号）
		
	- 实现：相位 180°的信号元素可以看作是相位 0°的信号元素的互补波形（基于时间轴对称），所以可以使用极性 NRZ 信号乘以载波频率。位 1 表示成相位从 0°开始，位 0 表示成相位从 180°开始
		- ![[50-模拟传输-impl-BPSK.png]]
		
	- 正交 PSK（QPSK）：若在每个信号元素中一次使用 2 位，可以减小波特率和所需带宽，即是正交 PSK。
		- ![[50-模拟传输-QPSK.png]]
		
		- 使用两个独立的BPSK调制：一个同相，另一个正交（异相）
			
		- 进入的2个位先经过串行到并行的转换，它发送一个位给一个调制器，发送下一个位给另一个调制器。如果进入信号中的每个位的持续时间是T，发送相应BPSK信号的每个位持续时间就是2T，即每个BPSK信号中位的频率是原始信号的一半
			
		- 由每个乘法器产生各自的复合信号是频率相同但相位不同的正弦波，这两个复合信号相加时结果是另一个正弦波，其相位可能是45°、-45°、135°、-135°之一。输出信号有四种信号元素，使得每个信号元素可以发送2位
			
		
	- 星座图constellation diagram：有助于定义信号元素的振幅和相位，尤其在使用两个载波时
		
		- ![[50-模拟传输-constellation-diagram.png]]
		- 图中，一个信号元素用一个点表示，其携带的位或位组合写在旁边
			
		- 星座图水平X轴与同相载波相关，垂直Y轴与正交载波相关。点在X轴的投影定义了同相成分的峰值振幅，在Y轴的投影定义了正交成分的峰值振幅，点到原点的连线长度是该信号的峰值振幅，连线与X轴之间的角度是信号元素的相位
			



- 正交振幅调制QAM（quadrature amplitude modulation）： PSK受到设备辨别相位细小差别能力的限制，所以潜在的比特率受限。FSK有带宽限制而无法与其他调制方法结合使用，而将ASK和PSK结合就是QAM：
	
	- 使用两个载波，一个同相另一个正交，每个载波都用不同的振幅
		
	- ![[50-模拟传输-QAMs.png]]
	- 图5.14列出了4-QAM（4个不同信号元素类型）以及16-QAM的星座图
		
	- QAM的带宽：需要的最小带宽与ASK和PSK相同。相对于ASK，QAM有更好的抗噪声能力


### 模拟信号调制

通过模拟信号来表示模拟信息

调制模拟信号的必要性：如果介质具有带通特性或者只有带通带宽可用，那么模拟信号就需要进行调制

- 无线电实例：政府为每一个无线电台分配基带带宽，每个电台生成的模拟信号都是低通信号，都在同一频率范围内。为了能够接收不同电台，需要将低通信号平移，是每一个信号对应不同的频率范围


- 模拟到模拟的转换 analog-to-analog conversion：有三种方法实现
	
	- **调幅AM**（amplitude modulation）：对载波信号进行调制，使其振幅随着调制信号的振幅变化而被改变
		
		- 载波的频率和相位保持不变，只有振幅随着信息改变。调制信号变成了载波信号的一个包路线
			
		- AM通常使用简单乘法器实现，使得载波信号的振幅需要根据调制信号的振幅变化
			
		- AM带宽：
			
			- AM 信号的带宽是调制信号带宽的两倍，并且覆盖了以载波频率为中心的频率范围
			- ![[50-模拟传输-AM.png]]
				
			- $B_{AM} = 2B$
				
			- 由于载波频率上边带和下边带的信号成分携带的信息完全相同，所以一些实现丢弃了一半的信号，削减了一半的带宽
				
			
		- AM无线电的标准带宽分配：
			
			- 音频信号（语音和音乐）的带宽通常是5kHz，所以一个调幅的无线电台需要的最小带宽是10kHz
				
			- AM电台可以使用530kHz~1700kHz之间任何一个频率作为载波频率，但每一个调幅电台的载波频率与其他电台的载波频率间隔至少是10kHz，以避免干扰
				
			
		
	- 调频FM（frequency modulation）：载波信号的频率随着调制信号电平（振幅）的改变而调整
		
		- 载波信号的峰值振幅和相位保持不变，只当调制信号的振幅改变时，载波信号的频率相应地改变
			
		- FM通常使用用于FSK的压控振荡器实现。振荡器的频率根据输入电平（调制信号的振幅）变化
			
		- ![[50-模拟传输-FM.png]]
		- FM 带宽：FM 所需的总带宽可以由音频信号的带宽确定：$B_{FM} = 2(1+β)B$，此中 β 取决于调制技术的因子，一般为4
			
		- FM无线电的标准带宽分配：
			
			- 立体声广播里的音频信号（语音和音乐）的带宽接近于15kHz，每一个调频电台使用200kHz的带宽，此时β=4作为额外的防护频带
				
			- FM电台可以采用88MHz~108MHz之间的任何频率作为载波频率，但电台之间必须有至少200kHz的频率差，以保证电台之间的带宽不重叠
				
			- 为了提供更强的专用性，FCC（联邦通信委员会）规定在一个给定的区域内只能交替使用分配的波段，其他波段都被保留，以防止任何两个电台之间的相互干扰
				
			
		
	- 调相PM（phase modulation）：载波信号的相位是根据调制信号的电平（振幅）改变而调整
		
		- 载波信号的峰值振幅和频率都保持不变，但调制信号的振幅改变时，载波的相位也相应地变化
			
		- ![[50-模拟传输-PM.png]]
		- PM通常使用压控振荡器和导数发生器实现，振荡器的频率根据输入电平（调制信号的振幅）的导数变化
			
		- 在数学上证明 PM 和 FM 除一点外都相同:在 FM 中，载波频率的瞬时变化与调制信号的振幅成正比；在 PM 中，载波频率的瞬时变化与调制信号振幅的导数成正比
			
		- PM 带宽：PM 所需的总带宽可以由调制信号的带宽和最大振幅确定：$B_PM = 2(1+β)B$，β 在窄带中大约为1、宽带中大约为3
