## @dataclass Example: Dublin Core Resource Record

Often, classes built with `@dataclass` will have more fields than the very short examples presented so far. [Dublin Core](https://fpy.li/5-12) provides the foundation for a more typical `@dataclass` example.

> The Dublin Core Schema is a small set of vocabulary terms that can be used to describe digital resources (video, 0-Assets/Epubook/Fluent%20Python%20Clear,%20Concise,%20and%20Effective%20Programming/images, web pages, etc.), as well as physical resources such as books or CDs, and objects like artworks.[^8]
> 
> Dublin Core on Wikipedia

The standard defines 15 optional fields; the `Resource` class in [Example 5-19](#resource_ex) uses 8 of them.

##### Example 5-19. _dataclass/resource.py_: code for `Resource`, a class based on Dublin Core terms

```
from
```

[![^1]

This `Enum` will provide type-safe values for the `Resource.type` field.

[![^2]

`identifier` is the only required field.

[![^3]

`title` is the first field with a default. This forces all fields below to provide defaults.

[![^4]

The value of `date` can be a `datetime.date` instance, or `None`.

[![^5]

The `type` field default is `ResourceType.BOOK`.

[Example 5-20](#resource_doctest_ex) shows a doctest to demonstrate how a `Resource` record appears in code.

##### Example 5-20. _dataclass/resource.py_: code for `Resource`, a class based on Dublin Core terms

    `>>>` `description` `=` `'Improving the design of existing code'`
    `>>>` `book` `=` `Resource``(``'978-0-13-475759-9'``,` `'Refactoring, 2nd Edition'``,`
    `...`     `[``'Martin Fowler'``,` `'Kent Beck'``],` `date``(``2018``,` `11``,` `19``),`
    `...`     `ResourceType``.``BOOK``,` `description``,` `'EN'``,`
    `...`     `[``'computer programming'``,` `'OOP'``])`
    `>>>` `book`  `# doctest: +NORMALIZE_WHITESPACE`
    `Resource``(``identifier``=``'978-0-13-475759-9'``,` `title``=``'Refactoring, 2nd Edition'``,`
    `creators``=``[``'Martin Fowler'``,` `'Kent Beck'``],` `date``=``datetime``.``date``(``2018``,` `11``,` `19``),`
    `type``=<``ResourceType``.``BOOK``:` `1``>``,` `description``=``'Improving the design of existing code'``,`
    `language``=``'EN'``,` `subjects``=``[``'computer programming'``,` `'OOP'``])`

The `__repr__` generated by `@dataclass` is OK, but we can make it more readable. This is the format we want from `repr(book)`:

    `>>>` `book`  `# doctest: +NORMALIZE_WHITESPACE`
    `Resource``(`
        `identifier` `=` `'978-0-13-475759-9'``,`
        `title` `=` `'Refactoring, 2nd Edition'``,`
        `creators` `=` `[``'Martin Fowler'``,` `'Kent Beck'``],`
        `date` `=` `datetime``.``date``(``2018``,` `11``,` `19``),`
        `type` `=` `<``ResourceType``.``BOOK``:` `1``>``,`
        `description` `=` `'Improving the design of existing code'``,`
        `language` `=` `'EN'``,`
        `subjects` `=` `[``'computer programming'``,` `'OOP'``],`
    `)`

[Example 5-21](#resource_repr_ex) is the code of `__repr__` to produce the format shown in the last snippet. This example uses `dataclass.fields` to get the names of the data class fields.

##### Example 5-21. `dataclass/resource_repr.py`: code for `__repr__` method implemented in the `Resource` class from [Example 5-19](#resource_ex)

```
    
```

[![^1]

Start the `res` list to build the output string with the class name and open parenthesis.

[![^2]

For each field `f` in the class…

[![^3]

…get the named attribute from the instance.

[![^4]

Append an indented line with the name of the field and `repr(value)`—that’s what the `!r` does.

[![^5]

Append closing parenthesis.

[![^6]

Build a multiline string from `res` and return it.

With this example inspired by the soul of Dublin, Ohio, we conclude our tour of Python’s data class builders.

Data classes are handy, but your project may suffer if you overuse them. The next section explains.