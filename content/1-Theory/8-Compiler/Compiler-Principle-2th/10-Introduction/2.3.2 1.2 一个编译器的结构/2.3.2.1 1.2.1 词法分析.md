### 1.2.1　词法分析

编译器的第一个步骤称为词法分析（lexical analysis）或扫描（scanning）。词法分析器读入组成源程序的字符流，并且将它们组织成为有意义的词素（lexeme）的序列。对于每个词素，词法分析器产生如下形式的词法单元（token）作为输出：

〈token-name，attribute-value〉

这个词法单元被传送给下一个步骤，即语法分析。在这个词法单元中，第一个分量token-name是一个由语法分析步骤使用的抽象符号，而第二个分量attribute-value指向符号表中关于这个词法单元的条目。符号表条目的信息会被语义分析和代码生成步骤使用。

比如，假设一个源程序包含如下的赋值语句

![018-2](../Images/image03951.jpeg)

这个赋值语句中的字符可以组合成如下词素，并映射成为如下词法单元。这些词法单元将被传递给语法分析阶段。

1）`position`是一个词素，被映射成词法单元〈id，1〉，其中id是表示标识符（identifier）的抽象符号，而1指向符号表中`position`对应的条目。一个标识符对应的符号表条目存放该标识符有关的信息，比如它的名字和类型。

2）赋值符号=是一个词素，被映射成词法单元〈=〉。因为这个词法单元不需要属性值，所以我们省略了第二个分量。也可以使用assign这样的抽象符号作为词法单元的名字，但是为了标记上的方便，我们选择使用词素本身作为抽象符号的名字。

3）`initial`是一个词素，被映射成词法单元〈id，2〉，其中2指向`initial`对应的符号表条目。

4）`+`是一个词素，被映射成词法单元〈+〉。

5）`rate`是一个词素，被映射成词法单元〈id，3〉，其中3指向`rate`对应的符号表条目。

6）`*`是一个词素，被映射成词法单元〈*〉。

7）`60`是一个词素，被映射成词法单元〈60〉[^1]。

分隔词素的空格会被词法分析器忽略掉。

图1-7给出经过词法分析之后，赋值语句1.1被表示成如下的词法单元序列：

〈id，1〉〈=〉〈id，2〉〈+〉〈id，3〉〈*〉〈60〉　（1.2）

![019-1](../Images/image03952.jpeg)

图1-7　一个赋值语句的翻译

在这个表示中，词法单元名=、+和*分别是表示赋值、加法运算符、乘法运算符的抽象符号。