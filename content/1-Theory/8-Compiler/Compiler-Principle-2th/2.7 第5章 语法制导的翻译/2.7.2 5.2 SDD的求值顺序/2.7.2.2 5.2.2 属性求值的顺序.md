### 5.2.2　属性求值的顺序

依赖图刻画了对一棵语法分析树中不同结点上的属性求值时可能采取的顺序。如果依赖图中有一条从结点M到结点N的边，那么要先对M对应的属性求值，再对N对应的属性求值。因此，所有的可行求值顺序就是满足下列条件的结点顺序N1、N2、…、Nk：如果有一条从结点Ni到Nj的依赖图的边，那么i<j。这样的排序将一个有向图变成了一个线性排序，这个排序称为这个图的拓扑排序（topological sort）。

如果这个图中存在任意一个环，那么就不存在拓扑排序。也就是说，没有办法在这棵语法分析树上对相应的SDD求值。然而，如果图中没有环，那么总是至少存在一个拓扑排序。下面说明一下为什么会存在拓扑排序。因为没有环，所以我们一定能够找到一个没有边进入的结点。假设没有这样的结点，那么我们就可以不断地从一个前驱结点到达另一个前驱结点，直到我们回到某个已经访问过的结点，从而形成了一个环。令这个没有进入边的结点为拓扑排序的第一个结点，从依赖图中删除这个点，并对其余的结点重复上面的过程。（最终就可以得到一个拓扑排序——译者注。）

例5.6　图5-7中的依赖图没有环。它的拓扑排序之一是这些结点的编码的顺序：1、2、…、9。请注意，这个图的每条边都是从编号较低的结点指向编号较高的结点，因此这个排序一定是拓扑排序。还有其他的拓扑排序，比如1、3、5、2、4、6、7、8、9。