## 5.4　语法制导的翻译方案

语法制导的翻译方案是语法制导定义的一种补充。5.3节中的所有语法制导定义的应用都可以使用语法制导的翻译方案来实现。

根据2.3.5节的介绍可知，语法制导的翻译方案（syntax-directed translation scheme, SDT）是在其产生式体中嵌入了程序片段的一个上下文无关文法。这些程序片段称为语义动作，它们可以出现在产生式体中的任何地方。按照惯例，我们在这些动作两边加上花括号。如果花括号要作为文法符号出现，则要给它们加上引号。

任何SDT都可以通过下面的方法实现：首先建立一棵语法分析树，然后按照从左到右的深度优先顺序来执行这些动作，也就是说在一个前序遍历过程中执行。5.4.3节将给出一个这样的例子。

通常情况下，SDT是在语法分析过程中实现的，不会真的构造一棵语法分析树。在本节中，我们主要关注如何使用SDT来实现两类重要的SDD：

1）基本文法可以用LR技术分析，且SDD是S属性的。

2）基本文法可以用LL技术分析，且SDD是L属性的。

我们将会看到，在这两种情况下，一个SDD中的语义规则是如何被转换成为一个带有语义动作的SDT的。这些动作将在适当的时候执行。在语法分析过程中，产生式体中的一个动作在它左边的所有文法符号都被匹配之后立刻执行。

可以在语法分析过程中实现的SDT可以按照如下的方式识别：将每个内嵌的语义动作替换为一个独有的标记非终结符号（marker nonterminal）。每个标记非终结符号M只有一个产生式M→∈。如果带有标记非终结符号的文法可以使用某个方法进行语法分析，那么这个SDT就可以在语法分析过程中实现。