### 8.6.1　寄存器和地址描述符

我们的代码生成算法依次考虑了各个三地址指令，并决定需要哪些加载指令来把必需的运算分量加载进寄存器。在生成加载指令之后，它开始生成运算代码。然后，如果有必要把结果存放入一个内存位置，它还会生成相应的保存指令。

为了做出这些必要的决定，我们需要一个数据结构来说明哪些程序变量的值当前被存放在哪个或哪些寄存器里面。我们还需要知道当前存放在一个给定变量的内存位置上的值是否就是这个变量的正确值。因为变量的新值可能已经在寄存器中计算出来但还没有存放到内存中。这个数据结构具有下列描述符：

1）每个可用的寄存器都有一个寄存器描述符（register descriptor）。它用来跟踪有哪些变量的当前值存放在此寄存器内。因为我们仅仅考虑那些用于存放一个基本块内的局部值的寄存器，我们可以假设在开始时所有的寄存器描述符都是空的。随着代码生成过程的进行，每个寄存器将存放零个或多个变量名字的值。

2）每一个程序变量都有一个地址描述符（address descriptor）。它用来跟踪记录在哪个或哪些位置上可以找到该变量的当前值。这个位置可以是一个寄存器、一个内存地址、一个栈中的位置，也可以是由这些位置组成的一个集合。这个信息可以存放在这个变量名字对应的符号表条目中。