### 8.4.5　循环

像while语句、do-while语句和for语句这样的程序设计语言构造自然地把循环引入到程序中。因为事实上每个程序会花很多时间执行循环，所以对于一个编译器来说，为循环生成优良的代码就变得非常重要。很多代码转换依赖于对流图中“循环”的识别。如果下列条件成立，我们就说流图中的一个结点集合L是一个循环。

1）在L中有一个被称为循环入口（loop entry）的结点，它是唯一的其前驱可能在L之外的结点。也就是说，从整个流图的入口结点开始到L中的任何结点的路径都必然经过循环入口结点，并且这个循环入口结点不是整个流图的入口结点本身。

2）L中的每个结点都有一个到达L的入口结点的非空路径，并且该路径全部在L中。

例8.9　图8-9中的流图有三个循环：

1）B3自身

2）B6自身

3）｛B2，B3，B4｝

其中的前两个循环都由单一结点组成，这些结点都有到其自身的边。比如，B3形成一个以B3本身为入口结点的循环。请注意，循环的第二个条件要求有一个从B3到本身的非空路径。因此，像B2这样的单一结点（它没有一条B2→B2的边）不是循环，因为没有从B2到其自身，且在集合｛B2｝中的非空路径。

第三个循环L=｛B2，B3，B4｝的循环入口结点是B2。请注意，这三个结点中只有B2有一个不在L中的前驱B1。而且，这三个结点中都有在L中且到达B2的非空路径。比如，从B2开始就有路径B2→B3→B4→B2。