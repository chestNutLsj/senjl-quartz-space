### 8.5.8　8.5节的练习

练习8.5.1：为下面的基本块构造DAG。

![363-1](../Images/image04573.jpeg)

练习8.5.2：分别按照下列两种假设简化练习8.5.1的三地址代码。

1）只有a在基本块的出口处活跃。

2）a、b、c在基本块的出口处活跃。

练习8.5.3：为图8-9中的块B6的代码构造DAG。请不要忘记包含比较指令i≤10。

练习8.5.4：为图8-9中的块B3的代码构造DAG。

练习8.5.5：扩展算法8.7，使之可以处理如下的三地址语句（原文为three-statements——译者注）

![363-2](../Images/image04574.jpeg)

练习8.5.6：分别按照下面的两个假设，为基本块

![363-3](../Images/image04575.jpeg)

构造DAG图。假设如下：

1）`p`可以指向任何地方。

2）`p`只能指向`b`或`d`。

！练习8.5.7：如果一个指针或数组表达式（比如`a［i］`或者`*p`）被赋值之后又被使用，且赋值和使用之间没有做任何修改，我们就可以利用这种情况来简化DAG。比如，在练习8.5.6的代码中，因为`p`可能指向的所有位置在第二个和第四个语句之间没有被赋值，所以不管`p`指向哪里，语句`e=*p`都可以被替换为`e=c`。请修正DAG构造算法以利用这种情况带来的好处，并把你的算法应用到练习8.5.6的代码中。

练习8.5.8：假设一个基本块由下面的C语言赋值语句生成：

![363-4](../Images/image04576.jpeg)

1）给出这个基本块的三地址语句（每个语句只做一次加法）。

2）假设`x`和`y`都在基本块的出口处活跃，利用加法的结合律和交换律来修改这个基本块，使得指令个数最少。