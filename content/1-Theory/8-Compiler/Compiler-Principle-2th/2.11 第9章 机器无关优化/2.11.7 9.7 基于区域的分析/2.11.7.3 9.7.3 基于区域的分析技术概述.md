### 9.7.3　基于区域的分析技术概述

对于每个区域R以及每个R中的子区域R′，我们计算一个传递函数fR，IN［R′］来概括在R内部的从R的入口到R′的入口的全部可能路径的执行效果。如果存在一条从区域R中的基本块B到达R之外的基本块的边，我们就说B是R的一个出口基本块（exit block）。我们也为R中的每个出口基本块B计算一个传递函数，记为fR，OUT［B］。这个传递函数概括了所有在R中从R的入口基本块到达B的出口处的所有可能路径的执行效果。

然后我们沿着这个区域层次结构逐步向上，为越来越大的区域计算传递函数。我们从由单个基本块组成的区域开始。对于任何一个这样的区域B，fB，IN［B］就是一个单元函数，而fB，OUT［B］则是基本块B自身的传递函数。当我们沿着层次结构向上时，

- 如果R是一个体区域，那么属于R的边构成了R的子区域的一个无环图。我们可以按照子区域的拓扑排序计算传递函数。
- 如果R是一个循环区域，那么我们只需要考虑到达R的头结点的回边的效果。

最终我们必然会到达层次结构的顶部，并计算得到对应于整个流图的区域Rn的传递函数。在算法9.53中描述了计算过程。

下一步是计算各个基本块的入口和出口处的数据流值。我们按照相反的方向，从区域Rn开始沿着层次结构向下处理各个区域。对于每个区域，我们计算其入口处的数据流值。对于区域Rn，我们应用![446-1](../Images/image04732.jpeg)（IN［ENTRY］）来计算Rn的子区域R的入口处的数据流值。我们重复这个过程，直到到达位于区域层次结构中的叶子上的基本块为止。