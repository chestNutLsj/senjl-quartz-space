## 9.7　基于区域的分析

至今为止我们讨论的迭代数据流分析算法只是解决数据流问题的方法之一。接下来我们讨论另一种被称为基于区域的分析（region-based analysis）的方法。回顾一下，在迭代分析方法中，我们为各个基本块创建传递函数，然后通过在基本块上进行反复扫描来寻找不动点解。一个基于区域的分析技术并不仅仅为各个基本块创建传递函数，它为越来越大的程序区域构造用以描述该区域运行情况的传递函数。最终构造出整个过程的传递函数，并用这个传递函数直接得到想要的数据流值。

一个使用迭代算法的数据流框架通过一个数据流值的半格和一组对函数组合运算封闭的传递函数来描述，而基于区域的分析还需要更多的元素。一个基于区域的框架包括一个数据流值的半格和一个传递函数的半格。后一种半格必须包括一个交汇运算、一个组合运算符和一个闭包运算符。我们将在9.7.4节看到所有这些元素的作用。

基于区域的分析技术特别适用于那些包含环的路径可能改变数据流值的数据流问题。它的闭包运算符允许我们概括描述一个循环的运行效果，这种方法比迭代分析中的方法更加有效。这个技术对过程间分析也是有用的。在进行过程间分析时，和一次过程调用关联的传递函数可以和那些与基本块相关联的传递函数一样处理。

为简单起见，我们在这一节中将只考虑前向数据流问题。我们将首先通过大家熟知的到达定值的例子来说明基于区域的分析技术的工作原理。在9.8节中，当我们研究归纳变量的时候，我们将给出一个有关这个技术的更有说服力的例子。