### 9.4.3　常量传播框架的传递函数

下面我们假设一个基本块只包含一个语句。包含多个语句的基本块的传递函数可以通过将各个语句对应的传递函数组合起来而构造得到。函数集合F由一组传递函数组成，这些传递函数接受的输入是一个从程序变量到常量格中元素的映射，而其返回值则是另一个这样的映射。

F包含一个单元函数，它接受一个映射作为输入并返回相同的映射。F也包含了对应于ENTRY结点的常值传递函数。这个传递函数对于任意的输入映射都返回映射m0，而对于所有的变量v，m0（v）=UNDEF。因为在执行任何程序语句之前任何变量都没有定义，因此这个边界条件是合理的。

一般来说，令fs为语句s的传递函数，并令m和m′表示满足m′=fs（m）的两个数据流值。我们将用m和m′之间的关系来描述fs。

1）如果s不是一个赋值语句，那么fs就是单元函数。

2）如果s是一个对变量x的赋值，那么对于所有变量v≠x，m′（v）=m（v）；其中m′（x）的定义如下：

（a）如果语句s的右部（RHS）是一个常量c，那么m′（x）=c。

（b）如果RHS形如y+z[^11]，那么

![421-1](../Images/image04699.jpeg)

（c）如果RHS是其他表达式（比如一个函数调用，或者使用指针的赋值），那么m′（x）=NAC。