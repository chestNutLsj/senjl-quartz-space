## 4.8　使用二义性文法

实际上，每个二义性文法都不是LR的，因此它们不在前面两节讨论的任何文法类之内。然而，某些类型的二义性文法在语言的规约和实现中很有用。对于像表达式这样的语言构造，二义性文法能提供比任何等价的无二义性文法更短、更自然的规约。二义性文法的另一个用途是隔离经常出现的语法构造，以对其进行特殊的优化。使用二义性文法，我们可以向文法中精心加入新的产生式来描述特殊情况的构造。

虽然使用的文法是二义性的，但我们在所有的情况下都会给出消除二义性的规则，使得每个句子只有一棵语法分析树。通过这个方法，语言的规约在整体上是无二义性的，有时还可以构造出遵循这个二义性解决方法的LR语法分析器。我们强调应该保守地使用二义性构造，并且必须在严格控制之下使用，否则无法保证一个语法分析器识别的到底是什么样的语言。