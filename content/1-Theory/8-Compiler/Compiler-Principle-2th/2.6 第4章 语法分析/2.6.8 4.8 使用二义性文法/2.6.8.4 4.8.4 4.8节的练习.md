### 4.8.4　4.8节的练习

！练习4.8.1：下面是一个二义性文法，它描述了包含n个二目中缀运算符且具有n个不同优先级的表达式：

E→E θ1 E | E θ2 E | … | E θn E |（E）| id

1）将SLR项集表示为n的函数。

2）要使得所有的运算符都是左结合的，并且θ1的优先级高于θ2，θ2的优先级高于θ3，依次类推，我们应该如何解决SLR项之间的冲突？

3）根据你在（2）中的决定，给出相应的SLR语法分析表。

4）图4-55中的无二义性文法定义了相同的表达式集合。对这个文法重复（1）和（3）部分。

![197-2](../Images/image04270.jpeg)

图4-55　含有n个运算符的表达式的无二义性文法

5）比较这两个（二义性和无二义性）文法的项集总数以及它们的语法分析表的大小，你能得出什么结论？关于二义性表达式文法的使用，这个比较结果告诉我们什么信息？

！练习4.8.2：图4-56给出了某种语句的文法。这些语句和练习4.4.12中讨论的语句类似。在这里，e和s仍然是分别代表条件表达式和“其他语句”的终结符号。

![197-3](../Images/image04271.jpeg)

图4-56　某类语句的文法

1）为这个文法构造一个LR语法分析表，并用解决悬空-else问题的常用方法来解决其中的冲突。

2）在这个语法分析表中填入额外的归约动作或适当的错误恢复例程，实现语法分析中的错误恢复。

3）给出你的语法分析器在处理下列输入时的行为：

（a）if e then s；if e then s end

（b）while e do begin s；if e then s；end