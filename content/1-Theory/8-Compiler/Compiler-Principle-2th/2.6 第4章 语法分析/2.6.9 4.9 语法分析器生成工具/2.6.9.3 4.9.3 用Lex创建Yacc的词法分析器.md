### 4.9.3　用Lex创建Yacc的词法分析器

Lex的作用是生成可以和Yacc一起使用的词法分析器。Lex库ll将提供一个名为`yylex()`的驱动程序。Yacc要求它的词法分析器的名字为`yylex()`。如果用Lex来生成词法分析器，那么我们可以将Yacc规约的第三部分的例程`yylex()`替换为语句

![202-7](../Images/image04292.jpeg)

并令每个Lex动作都返回Yacc已知的终结符号。通过使用语句`#include "lex.yy.c"`，程序`yylex`能够访问Yacc定义的词法单元名字，因为Lex的输出文件是作为Yacc的输出文件`y.tab.c`的一部分被编译的。

在UNIX系统中，如果Lex规约存放在文件`first.l`中，且Yacc规约在`second.y`中，我们可以使用命令

![203-1](../Images/image04293.jpeg)

来得到想要的翻译器。

图4-60中的Lex规约可以用在图4-59中需要词法分析器的地方。最后的表示“任意字符”的模式必须被写作`\n|.`，因为在Lex中，点（.）表示除了换行符之外的任意字符。

![203-2](../Images/image04294.jpeg)

图4-60　图4-59中的yylex的Lex规约