### 4.6.6　4.6节的练习

练习4.6.1：描述下列文法的所有可行前缀：

1）练习4.2.2（1）的文法S→ 0 S 1 | 0 1。

！2）练习4.2.1的文法S→S S + | S S * | a。

！3）练习4.2.2（3）的文法S→S（S）| ∈。

练习4.6.2：为练习4.2.1中的（增广）文法构造SLR项集。计算这些项集的GOTO函数。给出这个文法的语法分析表。这个文法是SLR文法吗？

练习4.6.3：利用练习4.6.2得到的语法分析表，给出处理输入aa*a+时的各个动作。

练习4.6.4：对于练习4.2.2（1）～（7）中的各个（增广）文法：

1）构造SLR项集和它们的GOTO函数。

2）指出你的项集中的所有动作冲突。

3）如果存在SLR语法分析表，构造出这个语法分析表。

练习4.6.5：说明下面的文法

S→A a A b | B b B a

A→∈

B→∈

是LL（1）的，但不是SLR（1）的。

练习4.6.6：说明下面的文法

S→S A | A

A→a

是SLR（1）的，但不是LL（1）的。

！！练习4.6.7：考虑按照下面方式定义的文法族Gn：

S→Ai bi　其中1≤i≤n

Ai→aj Ai | aj　其中1≤i，j≤n且i ≠ j

说明：

1）Gn有2n2-n个产生式。

2）Gn有2n+n2+n个LR（0）项集。

3）Gn是SLR（1）的。

关于LR语法分析器的大小，这个分析结果说明了什么？

！练习4.6.8：我们说单个项可以看作一个不确定有穷自动机的状态，而有效项的集合就是一个确定有穷自动机的状态（见4.6.5节中的“将项看作一个NFA的状态”部分）。对于练习4.2.1的文法S→ S S + | S S * | a：

1）根据“将项看作一个NFA的状态”部分中的规则，画出这个文法的有效项的转换图（NFA）。

2）将子集构造算法（算法3.20）应用于在（1）部分构造得到的NFA。得到的DFA和这个文法的LR（0）项集相比有什么关系？

！！3）说明在任何情况下，将子集构造算法应用于一个文法的有效项的NFA所得到的就是该文法的LR（0）项集。

！练习4.6.9：下面是一个二义性文法：

S→A S | b

A→S A | a

构造出这个文法的规范LR（0）项集族。如果我们试图为这个文法构造出一个LR语法分析表，必然会存在某些冲突动作。都有哪些冲突动作？假设我们使用这个语法分析表，并且在出现冲突时不确定地选择一个可能的动作。给出处理输入abab时的所有可能的动作序列。