### 4.2.5　二义性

根据2.2.4节的介绍可知，如果一个文法可以为某个句子生成多棵语法分析树，那么它就是二义性的（ambiguous）。换句话说，二义性文法就是对同一个句子有多个最左推导或多个最右推导的文法。

例4.11　算术表达式文法（4.3）允许句子id + id * id具有两个最左推导：

![144-1](../Images/image04158.jpeg)

相应的语法分析树如图4-5所示。

![144-2](../Images/image04159.jpeg)

图4-5　id+id*id的两棵语法树

请注意，图4-5a中的语法分析树反映了通常的+和*之间的优先级关系，而图4-5b中的语法分析树则没有反映出这一点。也就是说，按照惯例，应该将运算符*当作优先级高于+的运算符来处理，相应地，我们通常将a + b * c这样的表达式按照a +（b * c），而不是（a + b）* c的方式进行求值。

大部分语法分析器都期望文法是无二义性的，否则，我们就不能为一个句子唯一地选定语法分析树。在某些情况下，使用经过精心选择的二义性文法也可以带来方便。但同时需要使用消二义性规则（disambiguating rule）来“抛弃”不想要的语法分析树，只为每个句子留下一棵语法分析树。