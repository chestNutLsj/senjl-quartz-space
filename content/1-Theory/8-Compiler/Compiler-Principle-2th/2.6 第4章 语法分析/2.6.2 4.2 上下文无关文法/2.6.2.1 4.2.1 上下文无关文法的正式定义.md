### 4.2.1　上下文无关文法的正式定义

根据2.2节的介绍可知，一个上下文无关文法（简称文法）由终结符号、非终结符号、一个开始符号和一组产生式组成。

1）终结符号是组成串的基本符号。术语“词法单元名字”是“终结符号”的同义词。当我们讨论的显然是词法单元的名字时，我们经常使用“词法单元”这个词来指称终结符号。我们假设终结符号是词法分析器输出的词法单元的第一个分量。在（4.4）中，终结符号是关键字if和else以及符号“（”和“）”。

2）非终结符号是表示串的集合的语法变量。在（4.4）中，stmt和expr是非终结符号。非终结符号表示的串集合用于定义由文法生成的语言。非终结符号给出了语言的层次结构，而这种层次结构是语法分析和翻译的关键。

3）在一个文法中，某个非终结符号被指定为开始符号。这个符号表示的串集合就是这个文法生成的语言。按照惯例，首先列出开始符号的产生式。

4）一个文法的产生式描述了将终结符号和非终结符号组合成串的方法。每个产生式由下列元素组成：

① 一个被称为产生式头或左部的非终结符号。这个产生式定义了这个头所代表的串集合的一部分。

② 符号→。有时也使用::=来替代箭头。

③ 一个由零个或多个终结符号与非终结符号组成的产生式体或右部。产生式体中的成分描述了产生式头上的非终结符号所对应的串的某种构造方法。

例4.5　图4-2中的文法定义了简单的算术表达式。在这个文法中，终结符号是

![140-2](../Images/image04140.jpeg)

非终结符号是expression、term和factor，而expression是开始符号。

![140-1](../Images/image04141.jpeg)

图4-2　简单算术表达式的文法