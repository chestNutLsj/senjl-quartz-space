### 4.1.1　语法分析器的作用

在我们的编译器模型中，语法分析器从词法分析器获得一个由词法单元组成的串，并验证这个串可以由源语言的文法生成，如图4-1所示。我们期望语法分析器能够以易于理解的方式报告语法错误，并且能够从常见的错误中恢复并继续处理程序的其余部分。从概念上讲，对于良构的程序，语法分析器构造出一棵语法分析树，并把它传递给编译器的其他部分进一步处理。实际上，并不需要显式地构造出这棵语法分析树，因为正如我们将看到的，对源程序的检查和翻译动作可以和语法分析过程交错完成。因此，语法分析器和前端的其他部分可以用一个模块来实现。

处理文法的语法分析器大体上可以分为三种类型：通用的、自顶向下的和自底向上的。像Cocke-Younger-Kasami算法和Earley算法这样的通用语法分析方法可以对任意文法进行语法分析（见参考文献）。然而，这些通用方法效率很低，不能用于编译器产品。

编译器中常用的方法可以分为自顶向下的和自底向上的。顾名思义，自顶向下的方法从语法分析树的顶部（根结点）开始向底部（叶子结点）构造语法分析树，而自底向上的方法则从叶子结点开始，逐渐向根结点方向构造。这两种分析方法中，语法分析器的输入总是按照从左向右的方式被扫描，每次扫描一个符号。

![137-1](../Images/image04139.jpeg)

图4-1　编译器模型中语法分析器的位置

最高效的自顶向下方法和自底向上方法只能处理某些文法子类，但其中的某些子类，特别是LL和LR文法，其表达能力已经足以描述现代程序设计语言的大部分语法构造了。手工实现的语法分析器通常使用LL文法。比如，2.4.2节中的预测语法分析方法能够处理LL文法。处理较大的LR文法类的语法分析器通常是使用自动化工具构造得到的。

在本章中，我们假设语法分析器的输出是语法分析树的某种表示形式。该语法分析树对应于来自词法分析器的词法单元流。在实践中，语法分析过程中可能包括多个任务，比如将不同词法单元的信息收集到符号表中，进行类型检查和其他类型的语义分析，以及生成中间代码。我们把所有这些活动都归纳到图4-1中的“前端的其余部分”里面。在后续几章中将详细讨论这些活动。