### 4.1.2　代表性的文法

为了便于参考，我们先给出一些即将在本章中加以研究的文法。对那些以while或int这样的关键字开头的构造进行语法分析相对容易，因为关键字可以引导我们选择适当的文法产生式来匹配输入。因此我们主要关注表达式。因为运算符的结合性和优先级，表达式的处理更具挑战性。

下面的文法指明了运算符的结合性和优先级。这个文法和我们在第2章中使用的描述表达式、项和因子的文法类似。E表示一组以+号分隔的项所组成的表达式；T表示由一组以*号分隔的因子所组成的项；而F表示因子，它可能是括号括起的表达式，也可能是标识符：

E→E+T | T

T→T*F | F　（4.1）

F→（E）| id

表达式文法（4.1）属于LR文法类，适用于自底向上的语法分析技术。这个文法经过修改可以处理更多的运算符和更多的优先级层次。然而，它不能用于自顶向下的语法分析，因为它是左递归的。

下面给出表达式文法（4.1）的无左递归版本，该版本将被用于自顶向下的语法分析：

E→TE′

E′→+ TE′|∈

T→FT′　（4.2）

T′→* FT′ |∈

F→（E）| id

下面的文法以相同的方式处理+和*，因此它可以用来说明那些在语法分析过程中处理二义性的技术：

E→E + E | E * E |（E）| id　（4.3）

这里的E表示各种类型的表达式。文法（4.3）允许一个表达式，比如a+b*c，具有多棵语法分析树。