### 2.3.4　树的遍历

树的遍历将用于描述属性的求值过程，以及描述一个翻译方案中的各个代码片段的执行过程。一个树的遍历（traversal）从根结点开始，并按照某个顺序访问树的各个结点。

一次深度优先（depth-first）遍历从根结点开始，递归地按照任意顺序访问各个结点的子结点，并不一定要按照从左向右的顺序遍历。之所以称之为深度优先，是因为这种遍历总是尽可能地访问一个结点的尚未被访问的子结点，因此它总是尽可能快地访问离根结点最远的结点（即最深的结点）。

图2-11中的过程visit（N）就是一个深度优先遍历，它按照从左向右的顺序访问一个结点的子结点，如图2-12所示。在这个遍历中，完成某个结点的遍历之前（也就是在该结点的各个子结点的翻译结果都计算完毕之后），我们加入了计算每个结点的翻译结果的动作。一般来说，我们可以任意选定和一次遍历过程相关联的动作，当然也可以选择什么都不做。

![050-2](../Images/image03984.jpeg)

图2-11　一棵树的深度优先遍历

![050-3](../Images/image03985.jpeg)

图2-12　一棵树的深度优先遍历的例子

语法制导定义没有规定一棵语法分析树中各个属性值的求值顺序。只要一个顺序能够保证计算属性a的值时，a所依赖的其他属性都已经计算完毕，这个顺序就是可以接受的。综合属性可以在自底向上遍历的时候计算。自顶向上遍历指在计算完成某个结点的所有子结点的属性值之后才计算该结点的属性值的过程。一般来说，当既有综合属性又有继承属性时，关于求值顺序的问题就变得相当复杂，参见5.2节。