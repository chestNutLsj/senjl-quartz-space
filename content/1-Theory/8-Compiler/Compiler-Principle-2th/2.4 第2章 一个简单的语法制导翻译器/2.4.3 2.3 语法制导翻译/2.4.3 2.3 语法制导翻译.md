## 2.3　语法制导翻译

语法制导翻译是通过向一个文法的产生式附加一些规则或程序片段而得到的。比如，考虑由如下产生式生成的表达式expr：

expr → expr1 + term

这里，expr是两个子表达式expr1和term的和。（expr1中的下标仅仅被用于将产生式体中expr的实例和产生式头区别开来）。我们可以利用expr的结构，用如下的伪代码来翻译expr：

翻译expr1；

翻译term；

处理 +；

我们将在2.8节中使用这段伪代码的一个变体，为expr构造一棵语法分析树：我们首先建立expr1和term的语法分析树，然后处理+运算符并构造得到一个和此运算符对应的结点。为方便起见，本节中的例子是从中缀表达式到后缀表达式的翻译。

本节介绍两个与语法制导翻译相关的概念：

- 属性（attribute）：属性表示与某个程序构造相关的任意的量。属性可以是多种多样的，比如表达式的数据类型、生成的代码中的指令数目或为某个构造生成的代码中第一条指令的位置等等都是属性的例子。因为我们用文法符号（终结符号或非终结符号）来表示程序构造，所以我们将属性的概念从程序构造扩展到表示这些构造的文法符号上。
- （语法制导的）翻译方案（translation scheme）：翻译方案是一种将程序片段附加到一个文法的各个产生式上的表示法。当在语法分析过程中使用一个产生式时，相应的程序片段就会执行。这些程序片段的执行效果按照语法分析过程的顺序组合起来，得到的结果就是这次分析/综合过程处理源程序得到的翻译结果。

语法制导的翻译方案将在本章中多次使用，它将用于把中缀表达式翻译成后缀表达式，还会用于表达式求值，并用来构建一些程序构造的抽象语法树。第5章将更详细地讨论语法制导表示法。