### 2.2.4　二义性

在根据一个文法讨论某个符号串的结构时，我们必须非常小心。一个文法可能有多棵语法分析树能够生成同一个给定的终结符号串。这样的文法称为具有二义性（ambiguous）。要证明一个文法具有二义性，我们只需要找到一个终结符号串，说明它是两棵以上语法分析树的结果。因为具有两棵以上语法分析树的符号串通常具有多个含义，所以我们需要为编译应用设计出没有二义性的文法，或者在使用二义性文法时使用附加的规则来消除二义性。

例2.5　假如我们使用一个非终结符号string，并且不像例2.1中那样区分数位和列表，我们可以将例2.1中的文法改写如下：

string→string + string | string - string `| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9`

将符号digit和list合并为非终结符号string是有一些意义的，因为单个digit是list的一个特例。

但是，图2-6说明，在使用这个文法时，像`9-5+2`这样的表达式会有多棵语法分析树。图中`9-5+2`的两棵语法分析树对应于两种带括号的表达式：`（9-5）+2和9-（5+2）`。第二种方法给出的表达式值是意想不到的2，而不是通常的值6。例2.1的语法不支持这样的解释。

![044-2](../Images/image03975.jpeg)

图2-6　`9-5+2`的两棵语法分析树