### 2.6.3　常量

在一个表达式的文法中，任何允许出现数位的地方都应该允许出现任意的整型常量。要使得表达式中可以出现整数常量，我们可以创建一个代表整型常量的终结符号，比如num，也可以将整数常量的语法加入到文法中。将字符组成整数并计算它的数值的工作通常是由词法分析器完成的，因此在语法分析和翻译过程中可以将数字当作一个单元进行处理。

当在输入流中出现一个数位序列时，词法分析器将向语法分析器传送一个词法单元。该词法单元包含终结符号num及根据这些数位计算得到的整型属性值。如果我们把词法单元写成用〈〉括起来的元组，那么输入`31+28+59`就被转换成序列

〈num，31〉〈+〉〈num，28〉〈+〉〈num，59〉

在这里，终结符号+没有属性，所以它的元组就是〈`+`〉。图2-30中的伪代码读取一个整数中的数位，并用变量v累计得到这个整数的值。

![064-1](../Images/image04005.jpeg)

图2-30　将数位组成整数