## 2.6　词法分析

一个词法分析器从输入中读取字符，并将它们组成“词法单元对象”。除了用于语法分析的终结符号之外，一个词法单元对象还包含一些附加信息，这些信息以属性值的形式出现。至今为止，我们还不需要区分术语“词法单元”和“终结符号”，因为语法分析器忽略了词法单元中带有的属性值。在本节中，一个词法单元就是一个带有附加信息的终结符号。

构成一个词法单元的输入字符序列称为词素（lexem）。因此，我们可以说，词法分析器使得语法分析器不需要考虑词法单元的词素表示方式。

本节的词法分析器允许在表达式中出现数字、标识符和“空白”（空格、制表符和换行符）。它可以用于扩展上一节中介绍的表达式翻译器。要允许在表达式中出现数字和标识符，就必须扩展图2-21中的表达式文法。借此机会我们还将使扩展后的文法支持乘法和除法运算。扩展后的翻译方案如图2-28所示。

![063-1](../Images/image04003.jpeg)

图2-28　翻译得到后缀表示方式的语义动作

在图2-28中，假定终结符号num具有属性num.value，该属性给出了对应于num的本次出现的整数值。终结符号id有一个值为字符串类型的属性，写作id.lexeme。我们假设这个字符串就是这个id实例的实际词素。

在本节结束时，这些被用来演示词法分析器的工作方式的伪代码片段将被组合成Java代码。本节中介绍的方法适合于手写的词法分析器。3.5节描述了一个可根据一个词法规范生成词法分析器的工具Lex。用于保存标识符相关信息的符号表或数据结构将在2.7节中讨论。