### 2.5.1　抽象语法和具体语法

设计一个翻译器时，名为抽象语法树（abstract syntax tree）的数据结构是一个很好的起点。在一个表达式的抽象语法树中，每个内部结点代表一个运算符，该结点的子结点代表这个运算符的运算分量。对于更加一般化的情况，当我们处理任意的程序设计语言构造时，我们可以创建一个针对这个构造的运算符，并把这个构造的具有语义信息的组成部分作为这个运算符的运算分量。

`9-5+2`的抽象语法树如图2-22所示，其中根结点代表运算符`+`，根结点的子树分别代表子表达式`9-5`和`2`。将`9-5`组成一个运算分量反映了在对优先级相同的运算符求值时，求值顺序总是从左到右的。因为`+和-`具有相同的优先级，因此 `9-5+2`等价于`（9-5）+2`。

抽象语法树也简称语法树（syntax tree），在某种程度上和语法分析树相似。但是在抽象语法树中，内部结点代表的是程序构造；而在语法分析树中，内部结点代表的是非终结符号。文法中的很多非终结符号都代表程序的构造，但也有一部分是各种各样的辅助符号，比如那些代表项、因子或其他表达式变体的非终结符号。在抽象语法树中，通常不需要这些辅助符号，因此会将这些符号省略掉。为了强调它们之间的区别，我们有时把语法分析树称为具体语法树（concrete syntax tree），而相应的文法称为该语言的具体语法（concrete syntax）。

在图2-22给出的语法树中，每个内部结点都和一个运算符关联。树中没有对应于expr→term这样的单产生式（即产生式体中仅包含一个非终结符号的产生式）的“辅助”结点，也没有对应于∈产生式（比如rest→∈）的结点。

![058-2](../Images/image03996.jpeg)

图2-22　`9-5+2`的语法树

我们希望翻译方案的基础文法的语法分析树与抽象语法树尽可能相近。图2-21中的文法对子表达式进行分组的方式与语法树的分组方式相似。例如，加运算符的子表达式是由产生式体expr+tern中的expr和term给出的。