## 2.5　简单表达式的翻译器

使用前面三节介绍的技术，现在我们可以用Java语言编写一个语法制导翻译器。这个翻译器可以把算术表达式翻译成等价的后缀形式。为了使最初的程序比较小且容易理解，我们首先处理最简单的表达式，即由二目运算符加号和减号分隔的数位序列。在2.6节中，我们将扩展这个程序，使它能够翻译包含数字和其他运算符的表达式。由于表达式是很多程序设计语言中的构造，因此深入研究表达式的翻译问题是有意义的。

语法制导翻译方案常常作为翻译器的规约。图2-21（图2-15的重复）中的翻译方案定义了将要执行的翻译过程。

![058-1](../Images/image03995.jpeg)

图2-21　翻译为后缀表示形式的动作

在使用一个预测语法分析器进行语法分析时，我们常常需要修改一个给定翻译方案的基础文法。特别地，图2-21中的翻译方案的文法是左递归的。如上节所述，预测语法分析器不能处理左递归的文法。

现在我们看起来处在矛盾之中：一方面，我们需要一个能够支持翻译规约的文法；另一方面，我们又需要一个明显不同的能够支持语法分析过程的文法。解决的方法是首先使用易于翻译的文法，然后再小心地对这个文法进行转换，使之能够支持语法分析。通过消除图2-21中的左递归，我们可以得到一个适用于预测递归下降翻译器的文法。