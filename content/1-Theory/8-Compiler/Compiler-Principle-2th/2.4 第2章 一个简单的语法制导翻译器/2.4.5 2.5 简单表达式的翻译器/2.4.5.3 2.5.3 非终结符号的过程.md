### 2.5.3　非终结符号的过程

图2-25中的函数expr、term和rest实现了图2-23中的语法制导翻译方案。这些函数模拟了对应于非终结符号的各个产生式体。函数expr先调用term()再调用rest()，从而实现产生式expr →term rest。

函数rest实现了图2-23中非终结符rest的三个产生式。如果向前看符号是加号，这个函数就使用第一个产生式；如果向前看符号是减号，就使用第二个产生式；在其他情况下使用产生式rest→∈。非终结符号rest的前两个产生式是用过程rest中if语句的前两个分支实现的。如果向前看符号是`+`，就调用match（′+′）来匹配它。在调用term()之后，相应的语义动作通过输出一个加号来实现。第二个产生式与此类似，只是用`-代替+`。因为rest的第三个产生式的右部是∈，所以函数rest中最后一个else子句不做任何处理。

非终结符号term的十个产生式生成十个数位。因为每一个产生式都生成一个数位并打印，所以在图2-25中用相同的代码实现这些产生式。如果term()中的条件表达式成立，变量t中就保存lookahead代表的数位，它将在调用完match之后被打印出来。注意，match会改变向前看符号，所以我们需要t保存这个数位，以便稍后打印输出[^5]。

![060-1](../Images/image03999.jpeg)

图2-25　非终结符expr、rest和term的伪代码