### 7.7.6　7.7节的练习

练习7.7.1：假设图7-20中的对象网络由一个增量式算法进行管理。该算法和Baker算法一样使用四个列表Unreached、Unscanned、Scanned和Free。更明确地说，列表Unscanned按照队列进行管理。当扫描一个对象时，如果有多个对象要被放进这个列表中，我们按照字母顺序加入它们。同时假设我们使用写关卡来保证没有可达对象被当作垃圾。在开始时，A和B在Unscanned列表中，假设下列事件发生：

1）A被扫描。

2）指针A→D被覆写为A→H。

3）B被扫描。

4）D被扫描。

5）指针B→C被覆写为B→I。

假设没有更多的指针被覆写，模拟整个增量式垃圾回收过程。哪些对象是垃圾？哪些对象被放在了列表Free中？

练习7.7.2：按照如下假设重复练习7.7.1：

1）事件（2）和（5）的顺序互换。

2）事件（2）和（5）在（1）、（3）和（4）之前发生。

练习7.7.3：假设堆区恰好由图7-30中显示的三辆列车（共九节车厢）组成（即忽略其中的省略号）。有来自车厢12、23和32的引用指向车厢11中的对象o。当我们对车厢11进行垃圾回收，对象o最后在什么地方？

练习7.7.4：在下列情况下重复练习7.7.3。假设对象o

1）只有来自车厢22和31的引用。

2）没有来自车厢11之外的指针。

练习7.7.5：假设堆区恰好由图7-30中显示的三辆列车（共九节车厢）组成（即忽略其中的省略号）。当前我们处于恐慌模式。车厢11中的对象o1只有一个来自车厢12中的对象o2的引用。这个引用被覆写了。当我们对车厢11进行垃圾回收时，o1会发生什么事情？