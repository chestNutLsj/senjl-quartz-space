## 7.7　短停顿垃圾回收

简单的基于跟踪的回收器是以全面停顿的方式进行垃圾回收的，它可能造成用户程序的运行的长时间的停顿。我们可以每次只做部分垃圾回收工作，从而减少一次停顿的长度。我们可以按照时间来分割工作任务，使垃圾回收和增变者的运行交错进行。我们也可以按照空间来分割工作任务，每次只完成一部分垃圾的回收。前者称为增量式回收（incremental collection），后者称为部分回收（partial collection）。

增量式回收器将可达性分析任务分割成为若干个较小单元，并允许增变者和这些任务单元交错运行。可达集合会随着增变者的运行发生变化，因此增量式回收是很复杂的。我们将在7.7.1节看到，寻找一个稍微保守的解决方法将使得跟踪更加高效。

最有名的部分回收算法是世代垃圾回收（generational garbage collection）。它根据对象已分配时间的长短来划分对象，并且较频繁地回收新创建的对象，因为这些对象的生命周期往往较短。另一种可选的算法是列车算法（train algorithm），也是每次只回收一部分垃圾。它最适合回收较成熟的对象。这两个算法可以联合使用，构成一个部分回收器。这个回收器使用不同的方法来处理较新的和较成熟的对象。我们将在7.7.3节讨论有关部分回收的基本算法，然后详细地描述世代算法和列车算法的工作原理。

来自于增量回收算法和部分回收算法的思想经过修改，可以用于构造一个在多处理器系统中并行回收对象的算法，见7.8.1节。