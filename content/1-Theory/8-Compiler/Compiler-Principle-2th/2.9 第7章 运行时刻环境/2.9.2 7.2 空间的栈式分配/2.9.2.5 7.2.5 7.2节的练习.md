### 7.2.5　7.2节的练习

练习7.2.1：假设图7-2中的程序使用如下的partition函数：该函数总是将a［m］作为分割值v。同时假设在对数组a［m］，…，a［n］重新排序时总是尽量保存原来的顺序。也就是说，首先是以原顺序保持所有小于v的元素，然后保存所有等于v的元素，最后按原来顺序保存所有大于v的元素。

1）画出对数字9、8、7、6、5、4、3、2、1进行排序时的活动树。

2）同时在栈中出现的活动记录最多有多少个？

练习7.2.2：当初始顺序为1、3、5、7、9、2、4、6、8时，重复练习7.2.1。

练习7.2.3：图7-9中是递归计算Fiabonacci数列的C语言代码。假设f的活动记录按顺序包含下列元素：（返回值，参数n，局部变量s，局部变量t）。通常在活动记录中还会有其他元素。下面的问题假设初始调用是f（5）。

![298-1](../Images/image04476.jpeg)

图7-9　练习7.2.3的Fibonacci程序

1）给出完整的活动树。

2）当第1个f（1）调用即将返回时，运行时刻栈和其中的活动记录是什么样子的？

！3）当第5个f（1）调用即将返回时，运行时刻栈和其中的活动记录是什么样子的？

练习7.2.4：下面是两个C语言函数f和g的概述：

![298-2](../Images/image04477.jpeg)

也就是说，函数g调用f。画出在g调用f而f即将返回时，运行时刻栈中从g的活动记录开始的顶端部分。你可以只考虑返回值、参数、控制链以及存放局部数据的空间。你不用考虑存放的机器状态，也不用考虑没有在代码中显示的局部值和临时值。但是你应该指出：

1）哪个函数在栈中为各个元素创建了所使用的空间？

2）哪个函数写入了各个元素的值？

3）这些元素属于哪个活动记录？

练习7.2.5：在一个通过引用传递参数的语言中，有一个函数f（x，y）完成下面的计算：

![298-3](../Images/image04478.jpeg)

如果将a赋值为3，然后调用f（a，a），那么返回值是什么？

练习7.2.6：C语言函数f的定义如下：

![299-1](../Images/image04479.jpeg)

变量a是一个指向b的指针；变量b是一个指向c的指针，而c是一个当前值为4的整数变量。如果我们调用f（c，b，a），返回值是什么？