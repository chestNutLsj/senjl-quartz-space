### 6.5.6　6.5节的练习

练习6.5.1：假定图6-26中的函数widen可以处理图6-25a的层次结构中的所有类型，翻译下列表达式。假定c和d是字符型，s和t是短整型，i和j为整型，x是浮点型。

![271-2](../Images/image04430.jpeg)

练习6.5.2：像Ada中那样，我们假设每个表达式必须具有唯一的类型，但是我们根据一个子表达式本身只能推导出一个可能类型的集合。也就是说，将函数E1应用于参数E2（其文法产生式为E →E1（E2））有如下规则：

E.type = {t | 对E2.type中的某个s，s→t在E1.type中}

描述一个可以确定每个子表达式的唯一类型的语法制导定义（SDD）。它首先使用属性type，按照自底向上的方式综合得到一个可能类型的集合。在确定了整个表达式的唯一类型之后，自顶向下地确定属性unique的值，这个属性表示各个子表达式的类型。