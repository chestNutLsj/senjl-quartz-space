### 6.7.4　break语句、continue语句和goto语句

用于改变程序控制流的最基本的程序设计语言结构是goto语句。在C语言中，像`goto L`这样的语句将控制流转到标号为`L`的指令——在相应作用域内必须恰好存在一条标号为`L`的语句。在实现goto语句时，可以为每个标号维护一个未完成跳转指令的列表，然后在知道这些指令的目标之后进行回填。

Java废除了goto语句。但是Java支持一种规范化的跳转语句，即break语句。它使控制流跳出外围的语言结构。Java中还可以使用continue语句。这个语句的作用是触发外围循环的下一轮迭代。下面的代码摘自一个语法分析器，它说明了简单的break语句和continue语句。

![283-1](../Images/image04457.jpeg)

控制流会从第4行中的break语句跳出到外围for-循环之后的下一个语句。控制流也会从第2行中的continue语句跳转到计算reach()的代码，然后再转到第2行中的if语句。

如果S表示外围的循环结构，那么一条break语句就是跳转到S代码之后第一条指令处的跳转指令。我们可以按照下面的步骤为break生成代码：①跟踪外围循环语句S，②为该break语句生成未完成的跳转指令，③将这些指令放到S.nextlist中，其中nextlist就是6.7.3节中讨论的列表。

在一个通过两趟扫描构建抽象语法树的编译器前端中，S.nextlist可以被实现为对应于语句S的结点的一个字段。我们可以在符号表中将一个特殊的标识符break映射为表示外围循环语句S的结点，以此来跟踪S。这种方法同样可以处理java中带标号的break语句，因为同样可以用符号表来将这个标号映射为对应于标号所指的结构的语法树结点。

如果不使用符号表来访问S的结点，我们还可以在符号表中设置一个指向S.nextlist的指针。现在当遇到一个break语句时，我们生成一个未完成的跳转指令，并通过符号表查找到nextlist，然后把这个跳转指令加入到这个列表中。这个nextlist将按照6.7.3节中讨论的方法进行回填。

continue语句的处理方法和break语句的处理方法类似。两者之间的主要区别在于生成的跳转指令的目标不同。