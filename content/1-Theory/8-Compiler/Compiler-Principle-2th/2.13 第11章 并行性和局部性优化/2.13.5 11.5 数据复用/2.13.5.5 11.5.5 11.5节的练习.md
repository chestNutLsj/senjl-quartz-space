### 11.5.5　11.5节的练习

练习11.5.1：计算图11-20中各个矩阵的秩。并给出每个矩阵的最大线性独立列的集合，以及最大的线性独立行的集合。

![530-3](../Images/image04918.jpeg)

图11-20　计算这些矩阵的秩和零空间

练习11.5.2：找出图11-20中各个矩阵的零空间的基本向量。

练习11.5.3：假设一个迭代空间的维度（变量）为i、j和k。对于下面的每个访问，描述指向下列数组元素的子空间：

1）A［i，j,i+j］

2）A［i,i+1,i+2］

！3）A［i,i，j+k］

！4）A［i-j，j-k,k-i］

！练习11.5.4：假设数组A按行存放，并在下面的循环嵌套结构中被访问：

![531-1](../Images/image04919.jpeg)

对于下列的各个访问，指出是否可能改写该循环结构，使得对A的访问具有自空间复用特性。也就是说，整个高速缓存线被连续使用。如果可以，指明如何改写这个循环。注意，对循环的改写可以包括对下标变量重新排序或引入新的循环下标。但是不能改变数组的布局，比如把数组改成按列存放的。还要注意的是，一般来说，循环下标的重新排序可能是合法的，也可能是非法的。我们将在下一节给出判断重新排序是否合法的标准。但是在这个例子中，因为每个访问的效果就是把一个数组元素设置为0，所以不需要担心循环重新排列的效果会影响程序的语义。

1）`A［i+1,i+k,j］= 0`

！！2）`A［j+k,i,i］= 0`

3）`A［i,j,k,i+j+k］= 0`

！！4）`A［i,j-k,i+j,i+k］= 0`

练习11.5.5：在11.5.3节中，我们说如果最内层循环只改变一个数组访问的最后一个下标值，我们就能获得空间局部性。但是这个断言依赖于：数组是按行存放的假设。如果数组是按列存放的，那么什么样的条件可以保证空间局部性？

！练习11.5.6：在例11.28中，我们看到两个相似的数组访问之间是否存在复用很大程度上依赖于特定的数组下标表达式。将在例11.28中观察到的事实进行推广，并决定对什么样的函数f（i，j），访问A［i，j,i+j］和A［i+1，j-1，f（i，j）］之间存在复用。

！练习11.5.7：在例11.27中，我们指出，如果矩阵Z的行的长度很长，以至于不能一起存放到高速缓存中，就会产生更多的不必要的高速缓存脱靶。如果出现了这样的情况，应怎样改写循环嵌套以保证组空间复用？