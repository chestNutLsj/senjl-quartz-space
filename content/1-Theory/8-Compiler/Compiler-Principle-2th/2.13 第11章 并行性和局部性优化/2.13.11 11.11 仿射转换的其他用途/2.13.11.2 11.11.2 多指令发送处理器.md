### 11.11.2　多指令发送处理器

我们也可以使用仿射循环转换来优化多指令发送计算机的性能。10.5节讨论过，一个软件流水线化循环的性能受到两个因素的限制：先后关系约束中的环，以及对关键资源的使用。通过改变最内层循环的组成，我们可以改进这些限制。

首先，我们可以使用循环转换来创立最内层的可并行化循环，从而完全消除先后关系约束中的环。假设一个程序有两个循环，其中的外层循环是可并行化的，而内层循环不可并行化。我们可以交换这两个循环，使得内层循环变成可并行化的，从而创造出更多的指令级并行化机会。请注意，我们并不要求最内层循环的迭代之间一定是完全可并行化的。只要其依赖关系所确定的环短到可以充分利用硬件资源就足够了。

我们也可以通过改进一个循环中资源使用的平衡性来放松因资源使用而引起的限制。假设一个循环只使用加法器，而另一个只使用乘法器。假设一个循环因为内存而受到制约，另一个循环因为计算量而受到制约。比较好的做法是把这些例子中的循环对融合到一起，以便同时充分利用所有的功能单元。