### 11.6.1　数组访问的数据依赖关系的定义

让我们考虑对同一个数组的两个静态访问，它们可能位于不同的循环中。第一个访问用访问函数和界限表示为![532-3](../Images/image04920.jpeg)，它位于一个深度为d的循环嵌套结构中；第二个访问表示为![532-4](../Images/image04921.jpeg)，它位于一个深度为d′的程序嵌套结构中。如果下面的条件成立，这两个访问就是数据依赖的。

1）它们中至少有一个是写运算，且

2）存在Zd中的向量i和Zd′中的向量i′使得

① Bi+b≥0

② B′i′+b≥0

③ Fi+f = F′i′+f′

因为一个静态访问通常会产生多个动态访问，所以考虑它的多个动态访问是否可能指向同一个内存位置也是有意义的。为了寻找同一个静态访问的不同实例之间的依赖关系，我们假设![532-2](../Images/image04922.jpeg)并在上面的定义中加入附加条件i≠i′以剔除平凡解。

例11.29　考虑下面的深度为1的循环嵌套结构：

![532-1](../Images/image04923.jpeg)

这个循环具有两个数组访问：Z［i-1］和Z［i］。第一个访问是读运算，而第二个访问是写运算。为了找到这个程序中的所有数据依赖关系，我们需要检查这个写运算和它自身以及上面的读运算之间是否具有依赖关系：

1）Z［i-1］和Z［i］之间的数据依赖关系。除了第一个迭代，每个迭代都会读取前一个迭代写入的值。从数学的角度看，因为存在整数i和i′使得

1≤i≤10，1≤i′≤10，且i-1=i′

所以我们知道它们之间存在一个依赖关系。上面的约束系统有九个解：（i=2,i′=1），（i=3,i′=2），等等。

2）Z［i］和它自身之间的依赖关系。可以看到，这个循环的不同迭代向不同的位置写入数据。也就是说，写访问Z［i］的各个实例之间不存在数据依赖关系。从数学的角度看，因为不存在整数i和i′满足条件

1≤i≤10，1≤i′≤10，i=i′，且i≠i′

因此我们知道实例之间不存在依赖关系。请注意，之所以有第三个条件i=i′是因为要求Z［i］和Z［i′］必须在同一个位置上。和这个条件矛盾的第四个条件i≠i′是因为要求依赖关系必须是非平凡的——必须是不同动态访问之间的依赖关系。

任意两个读访问总是独立的，因此不需要考虑上面的读引用Z［i-1］和它自身之间的依赖关系。