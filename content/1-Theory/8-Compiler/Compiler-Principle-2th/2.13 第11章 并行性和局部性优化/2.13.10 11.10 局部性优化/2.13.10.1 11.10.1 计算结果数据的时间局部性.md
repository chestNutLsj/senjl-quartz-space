### 11.10.1　计算结果数据的时间局部性

仿射分划算法把所有相互依赖的运算放到一起。通过串行执行这些分划，我们提高了计算结果数据的时间局部性。让我们回顾一下11.7.1节中讨论的多网格的例子。应用算法11.43来并行化图11-23中的代码，找到了2度的并行性。图11-24中的代码包含两个外层循环，它们顺序遍历了各个独立的分划单元。转换得到的这个代码具有较好的局部性，因为计算得到的结果立刻就在同一个迭代中使用。

因此，即使我们的目标是优化顺序执行，使用并行化技术找出这些相关的运算并把它们放到一起也是很有好处的。我们在这里使用的算法和算法11.64类似，它从最外层循环开始寻找所有的并行性粒度。如11.9.9节中讨论的，如果我们在每个层次上都不能找到无同步的并行性，这个算法就对各个强连通分量单独进行并行化。这个并行化方法常常会增加通信量。因此，如果被单独并行化的强连通分量之间存在复用，我们就尽可能地把它们组合起来。