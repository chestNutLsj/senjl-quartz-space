## 10.2　代码调度约束

代码调度是程序优化的一种形式，它应用于由代码生成器生成的机器代码。代码调度要遵守下面三种约束：

1）控制依赖约束。所有在原程序中执行的运算都必须在优化后的程序中执行。

2）数据依赖约束。优化后的程序中的运算必须和原程序中的相应运算生成相同的结果。

3）资源约束。调度不能够超额使用机器上的资源。

这些调度约束保证了优化后的程序和原程序生成同样的结果。但是，因为代码调度改变了运算执行的顺序，所以优化后的程序执行时某一点上的内存状态可能和顺序执行时任一点上的内存状态都不匹配。如果一个程序的执行因异常或用户设定的断点而中断时，就会产生问题。因此经过优化的程序比较难以调试。请注意，这个问题不是代码调度专有的，所有的优化技术都会出现这个问题，包括部分冗余消除（见9.5节）和寄存器分配（见8.8节）。