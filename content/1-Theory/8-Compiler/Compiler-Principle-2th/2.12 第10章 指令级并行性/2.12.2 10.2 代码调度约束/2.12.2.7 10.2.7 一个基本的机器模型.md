### 10.2.7　一个基本的机器模型

很多机器可以使用下面的简单模型表示。一个机器M=<R,T>由下列元素组成：

1）一个运算类型的集合T。这些运算类型包括加载、保存、算术运算等。

2）一个代表硬件资源的向量R=［r1,r2,…］，其中ri表示第i种资源的可用单元的数目。典型资源的例子包括：内存访问单元、算术逻辑单元（ALU）和浮点功能单元。

每条指令具有一组输入运算分量、一组输出运算分量和一个资源需求。每一个输入运算分量都有一个对应的输入延时。这个延时表示输入值（相对于运算开始时刻）必须在什么时候可用。典型的输入运算分量的延时是零，表明立刻就需要使用这些值。类似地，每个输出运算分量有一个对应的输出延时。这个延时表明了运算结果（相对于运算开始时刻）什么时候可用。

每个t类型的机器运算指令需要使用的资源可以建模为一个二维的资源预约表（resource-reservation table），RTt。该表的宽度是机器中资源的种类数量，它的长度是该运算使用资源的时间长度。表格中的条目RTt［i，j］表示在t类型的运算指令被发出i个时钟周期后该运算指令占用的第j种资源的数量。为了简化表示方法，如果i指向一个表格中不存在的条目（也就是i比执行该运算所需的时钟数大），我们假定RTt［i，j］=0。当然，对于任何t、i和j，RTt［i，j］必须小于或等于R［j］，也就是该机器拥有的第j种资源的总数。

典型的机器运算指令在其被发出时只占用一个单元的资源。有些运算可能使用多个功能单元。比如，一个相乘再相加的指令可能在第一个时钟周期使用一个乘法器，在第二个周期使用一个加法器。有些运算（比如除法运算）可能需要占用一个资源多个时钟周期。完全流水线化（fully pipelined）的运算是指那些在每个时钟周期都可以发出一条指令的运算，虽然这些运算的结果可能要等到几个时钟周期之后才可用。我们不需要明确地对一条流水线的各个阶段的资源建模，只需要用一个单元对第一个阶段建模就可以了。占用了某条流水线的第一阶段的运算一定能够在下一个时钟周期进入下一个阶段。