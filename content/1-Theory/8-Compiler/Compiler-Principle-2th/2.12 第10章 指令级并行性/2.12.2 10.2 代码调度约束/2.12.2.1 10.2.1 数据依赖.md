### 10.2.1　数据依赖

显然，如果两个运算不接触同一个变量，那么改变这两个运算的执行顺序肯定不会影响它们的执行结果。实际上，即使这两个运算读取同一个变量的值，我们仍然可以交换它们的执行次序。只有当一个运算向一个变量写值，而另一个运算对这个变量执行读或写运算时，改变它们的执行次序才会改变它们的结果。这样的一对操作之间被认为存在数据依赖（data dependence）关系，并且它们的相对执行顺序必须保持不变。有三种类型的数据依赖关系：

1）真依赖：写之后再读。如果一个写运算后面跟随一个对同一个位置的读运算，那么这个读操作就依赖于被写入的值，这种依赖关系被认为是一个真依赖关系。

2）反依赖：读之后再写。如果一个读运算之后跟随一个对同一个位置的写运算，我们说存在一个从读运算到写运算的反依赖关系。写运算本质上不依赖于读运算，但是如果写运算在读运算之前发生，那么这个读运算将读取到错误的值。反依赖关系是强制式编程的一个副产品。这种语言中同一个内存位置可以在不同时刻存放不同的值。这不是一个“真”依赖关系，可以把值存放在不同的位置上以达到消除反依赖关系的目的。

3）输出依赖：写之后再写。对同一个位置的两个写运算之间有输出依赖关系。如果违反了这个关系，那么在这两个运算都完成之后，被写内存位置上存放的是错误的值。

反依赖关系和输出依赖关系被称为存储相关的依赖（storage-related dependence）。这些都不是“真”的依赖关系，可以通过使用不同的内存位置存放不同的值来消除这些依赖关系。请注意，数据依赖关系对于内存访问和寄存器访问同样有效。