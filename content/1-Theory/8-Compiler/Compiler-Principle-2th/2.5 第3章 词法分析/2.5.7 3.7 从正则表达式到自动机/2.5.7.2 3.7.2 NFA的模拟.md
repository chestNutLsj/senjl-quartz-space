### 3.7.2　NFA的模拟

许多文本编辑程序使用的策略是根据一个正则表达式构造出相应的NFA，然后使用类似于on-the-fly（即边构造边使用的）的子集构造法来模拟这个NFA的执行。这种模拟执行方法将在下面给出。

算法3.22　模拟一个NFA的执行。

输入：一个以文件结束符eof结尾的输入串x。一个NFA N，其开始状态为s0，接受状态集为 F，转换函数为move。

输出：如果N接受x则返回“yes”，否则返回“no”。

方法：这个算法保存了一个当前状态的集合S，即那些可以从s0开始沿着标号为当前已读入输入部分的路径到达的状态的集合。如果c是函数nextChar()读到的下一个输入字符，那么我们首先计算move（S，c），然后使用∈-closure求出这个集合的闭包。该算法的思想如图3-37所示。

![114-2](../Images/image04100.jpeg)

图3-37　模拟一个NFA