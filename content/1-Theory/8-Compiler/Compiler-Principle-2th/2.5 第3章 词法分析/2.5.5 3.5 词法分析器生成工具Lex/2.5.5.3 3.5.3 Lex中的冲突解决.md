### 3.5.3　Lex中的冲突解决

前面我们已经间接提到了Lex解决冲突的两个规则。当输入的多个前缀与一个或多个模式匹配时，Lex用如下规则选择正确的词素：

1）总是选择最长的前缀。

2）如果最长的可能前缀与多个模式匹配，总是选择在Lex程序中先被列出的模式。

例3.12　第一个规则告诉我们，要持续读入字母和数位，寻找最长的由这些字符组成的前缀并将它们组合成为一个标识符。它也告诉我们应该将<=看成是一个词素，而不是将<看作一个词素、再将＝看作下一个词素。如果我们在Lex程序中将关键字的模式置于id的模式之前，那么第二个规则将使得关键字成为保留字。例如，如果`then`被确定为和某个模式匹配的最长输入前缀，并且如图3-23所示，模式`then`被置于`{id}`之前，那么返回的词法单元将是`THEN`，而不是`ID`。