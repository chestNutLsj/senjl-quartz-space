### 3.1.3　词法单元的属性

如果有多个词素可以和一个模式匹配，那么词法分析器必须向编译器的后续阶段提供有关被匹配词素的附加信息。例如，0和1都能和词法单元number的模式匹配，但是对于代码生成器而言，至关重要的是知道在源程序中找到了哪个词素。因此，在很多情况下，词法分析器不仅仅向语法分析器返回一个词法单元名字，还会返回一个描述该词法单元的词素的属性值。词法单元的名字将影响语法分析过程中的决定，而这个属性则会影响语法分析之后对这个词法单元的翻译。

我们假设一个词法单元至多有一个相关的属性值，当然这个属性值可能是一个组合了多种信息的结构化数据。最重要的例子是词法单元id，我们通常会将很多信息和它关联。一般来说，和一个标识符有关的信息——例如它的词素、类型、它第一次出现的位置（在发出一个有关该标识符的错误消息时需要使用这个信息）——都保存在符号表中。因此，一个标识符的属性值是一个指向符号表中该标识符对应条目的指针。

识别词法单元时的棘手问题

如果给定一个描述了某词法单元的词素的模式，在与之匹配的词素出现在输入中时识别出匹配的词素是相对简单的。然而，在某些程序设计语言中，要判断是否识别到一个和某词法单元匹配的词素并不是一件轻而易举的事。下面的例子来自Fortran语言的固定格式（fixed-format）程序。Fortran 90中仍然支持固定格式。在语句

`DO 5 I = 1.25`

中，在我们看到1后的小数点之前，我们并不能确定`DO5I`是第一个词素，即一个标识符词法单元的实例。注意，在Fortran语言的固定格式中，空格是被忽略的（这是一种过时的惯例）。假如我们看到的是一个逗号，而不是小数点，那么我们就得到了一个do语句

`DO 5 I = 1，25`

在这个语句中，第一个词素是关键字`DO`。

例3.2　Fortran语句

![085-1](../Images/image04048.jpeg)

中的词法单元名字和相关的属性值可写成如下的名字-属性对序列：

![085-2](../Images/image04049.jpeg)

注意，在某些对中，特别是运算符、标点符号和关键字的对中，不需要有属性值。在这个例子中，词法单元number有一个整数属性值。在实践中，编译器将保存一个代表该常量的字符串，并将一个指向该字符串的指针作为number的属性值。