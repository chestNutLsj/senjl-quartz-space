### 3.3.4　正则定义

为方便表示，我们可能希望给某些正则表达式命名，并在之后的正则表达式中像使用符号一样使用这些名字。如果Σ是基本符号的集合，那么一个正则定义（regular definition）是具有如下形式的定义序列：

d1 → r1

d2 → r2

...

dn → rn

其中：

- 每个di都是一个新符号，它们都不在∑中，并且各不相同。
- 每个ri是字母表Σ∪{d1，d2，…，di-1}上的正则表达式。

我们限制每个ri中只含有Σ中的符号和在它之前定义的各个dj，因此避免了递归定义的问题，并且我们可以为每个ri构造出只包含Σ中符号的正则表达式。我们可以首先将r2（它不能使用d1之外的任何d）中的d1替换为r1，然后再将r3中的d1和d2替换为r1和（替换之后的）r2，依此类推。最后，我们将rn中的di（i=1，2，…，n-1）替换为ri的经替换后的版本，在这些版本中都只包含Σ中的符号。

例3.5　C语言的标识符是由字母、数字和下划线组成的串。下面是C标识符对应的语言的一个正则定义。我们将按照惯例用斜体字来表示正则定义中定义的符号。

![092-2](../Images/image04058.jpeg)

例3.6　（整型或浮点型）无符号数是形如`5280、0.01234、6.336E4`或`1.89E-4`的串。下面的正则定义给出了这类符号串的精确规约：

![092-3](../Images/image04059.jpeg)

在这个定义中，optionalFraction要么是空串，要么是小数点后再跟一个或多个数位。optionalExponent如果不是空串，就是字母E后跟随一个可选的+号或-号，再跟上一个或多个数位。请注意，小数点后至少要跟一个数位，所以number和1. 不匹配，但和1.0匹配。