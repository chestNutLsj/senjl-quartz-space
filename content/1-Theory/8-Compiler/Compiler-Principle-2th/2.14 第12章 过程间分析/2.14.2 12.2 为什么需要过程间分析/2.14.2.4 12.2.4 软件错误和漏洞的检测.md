### 12.2.4　软件错误和漏洞的检测

过程间分析不仅仅对优化代码很重要。同样的技术也可以用于分析已有软件，寻找各种编码错误。这些错误可能会使得软件变得不可靠，黑客可以利用这些错误来控制或毁坏一个计算机系统。计算机系统的代码错误可能引起严重的安全漏洞。

静态分析可以用于检测是否存在常见的多种错误模式。比如，一个数据项必须用一个锁来保护。另一个例子是，在操作系统中屏蔽一个中断后必须随后重新启用这个中断。这类错误的一个重要源头是跨越过程边界的代码之间的不一致性，因此过程间分析极为重要。PREfix和Metal是两个实用的工具，它们有效地使用过程间分析技术在大型程序中寻找多种程序错误。这类工具可以静态地找到错误，从而大大提高软件可靠性。但是，这些工具既不完全也不健全。从这个意义上说，它们不能找到所有的错误，并且不是报告的所有警告都是错误。遗憾的是，它们使用的过程间分析技术相当地不精确，如果让这些工具报告所有可能的错误，大量的假报警会使得工具无法使用。无论如何，虽然这些工具不是完美的，但它们的系统化使用已经表明它们能够大大提高软件的可靠性。

当考虑安全缺陷时，我们非常期望找到一个程序中所有可能的错误。在2006年，黑客使用的两个“最流行”的威胁系统完全的入侵形式是：

1）Web应用中输入确认机制的缺失：SQL注入是这种攻击最流行的形式之一。黑客们利用这个弱点，通过操控被Web应用接收的输入来获取对数据库的控制。

2）C和C++程序中的缓冲区溢出。因为C和C++不对数组访问进行边界检查，黑客就可以写出一个精心构造的字符串，使得它从缓冲区中延伸到未预料到的区域，从而控制这个程序的运行。

在下一节中，我们将讨论如何使用过程间分析技术来保护程序不受这样的攻击。