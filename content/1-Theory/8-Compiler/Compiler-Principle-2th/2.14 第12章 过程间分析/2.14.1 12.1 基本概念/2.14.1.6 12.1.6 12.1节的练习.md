### 12.1.6　12.1节的练习

练习12.1.1：图12-10中是一个带有两个函数指针p和q的C程序。N是常量，它可能比10小也可能比10大。请注意，这个程序会产生无穷的过程调用序列，但是这和我们当前考虑这个问题的目的无关。

![594-2](../Images/image05061.jpeg)

图12-10　练习12.1.1的程序

1）找出本程序中的所有调用点。

2）对于每个调用点，p可能指向哪些函数？q可能指向哪些函数？

3）画出这个程序的调用图。

4）描述f和g的所有调用串。

练习12.1.2：图12-11中有一个函数`id`>，这个函数是一个“单位函数”。它的返回值就是传递给它的参数值。图中还有一个代码片段，该片段包含一个分支语句，后面跟随一个计算x+y的和的赋值语句。

![595-1](../Images/image05062.jpeg)

图12-11　练习12.1.2的代码片断

1）检查这个代码，关于z在结尾处的值，我们可以有哪些结论？

2）把对`id`的调用当作控制流处理，为这个代码片段构造流图。

3）如果我们对问题2中得到的流图应用9.4节中描述的常量传播分析，可以确定哪些常量值？

4）图12-11中的全部调用点是哪些？

5）共有哪些调用了`id`的上下文？

6）改写图12-11中的代码，为每一个调用`id`的上下文克隆一个函数`id`的新版本。

7）把对`id`的调用作为控制流处理，构造你在问题6中得到的代码的流图。

8）对于在问题7中得到的流图进行常量传播分析。现在可以确定哪些常量值？