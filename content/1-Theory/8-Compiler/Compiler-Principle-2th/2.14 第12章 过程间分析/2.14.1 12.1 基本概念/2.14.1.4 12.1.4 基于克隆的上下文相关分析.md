### 12.1.4　基于克隆的上下文相关分析

上下文相关分析的另一个方法是在概念上克隆被调用过程，对于每个感兴趣的上下文都进行一次克隆。然后我们就可以对克隆过的调用图应用上下文无关分析。例12.6和12.7分别给出了和例12.4和12.5等价的克隆版本。在实际分析时，我们不需要真的克隆代码，而是可以直接使用一个高效的内部表示来跟踪各个克隆部分的分析结果。

例12.6　图12-5的克隆版本显示在图12-7中。因为每个调用上下文指向一个不同的克隆，因此不存在混淆的情况。比如，`g1`的输入为0，产生输出1；`g2`和`g3`接受输入243并产生输出244。

![592-1](../Images/image05058.jpeg)

图12-7　图12-5的克隆版本

例12.7　例12.5的克隆版本显示在图12-8中。我们创建了过程g的一个克隆版本，它代表所有首先在`c1、c2`和`c3`处调用的g的实例。在这种情况下，如果一个分析技术能够从v=0推导出v>1不成立，那么该分析将会确定在调用点c1处的调用将会返回1。但是，这个分析不能很好地处理递归，不能分析得到调用点`c2`和`c3`处的常量值。

![593-1](../Images/image05059.jpeg)

图12-8　图12-6的克隆版本